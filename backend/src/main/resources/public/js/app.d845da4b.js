(function(t){function e(e){for(var n,r,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"05e3":function(t,e,a){"use strict";a("8489")},"0e92":function(t,e,a){"use strict";a("a290")},1936:function(t,e,a){},3273:function(t,e,a){t.exports=a.p+"img/mobil_cim_logo.9a66ddf5.svg"},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=s,t.exports=o,o.id="4678"},"49b3":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",["Login"!==t.$route.name?a("c-app-bar",{attrs:{apartment_routes:t.apartment_routes}}):t._e(),a("v-main",{staticClass:"app"},[a("router-view",{key:t.$route.path})],1),"Login"!==t.$route.name?a("c-footer"):t._e(),a("c-snack-bar")],1)},s=[],r=(a("ac1f"),a("5319"),a("4d63"),a("25f0"),a("159b"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{attrs:{padless:""}},[a("v-card",{staticClass:"corange text-center",attrs:{flat:"",tile:"",width:"100%"}},["Admin"!=t.$store.getters.getRole?a("v-card-text",[a("transition-group",{staticClass:"footer-elements"},[a("v-btn",{key:"1",staticClass:"mx-4 footer-element",attrs:{icon:""},on:{click:function(e){t.expand_address=!t.expand_address}}},[a("v-icon",{attrs:{size:"24px",color:"green darken-3"}},[t._v(" fa-home ")])],1),a("p",{directives:[{name:"show",rawName:"v-show",value:t.expand_address,expression:"expand_address"}],key:"2",staticClass:"white--text footer-element",staticStyle:{display:"inline"},attrs:{"d-flex":""}},[t._v(" "+t._s(t.weekendhouse.address)+" ")]),a("v-btn",{key:"3",staticClass:"mx-4 footer-element",attrs:{transition:"slide-x-transition",icon:""},on:{click:function(e){t.expand_phone=!t.expand_phone}}},[a("v-icon",{attrs:{"d-flexsize":"24px",color:"purple darken-3"}},[t._v(" fa-phone ")])],1),a("p",{directives:[{name:"show",rawName:"v-show",value:t.expand_phone,expression:"expand_phone"}],key:"4",staticClass:"white--text footer-element",staticStyle:{display:"inline"},attrs:{"d-flex":""}},[t._v(" "+t._s(t.weekendhouse.phone_number)+" ")]),a("v-btn",{key:"5",staticClass:"mx-4 footer-element",attrs:{icon:"",href:t.weekendhouse.facebook,target:"blank"}},[a("v-icon",{attrs:{size:"24px",color:"blue darken-3"}},[t._v(" fa-facebook ")])],1),a("v-btn",{key:"6",staticClass:"mx-4 footer-element",attrs:{icon:"",href:"mailto:"+t.weekendhouse.email}},[a("v-icon",{attrs:{size:"24px",color:"red darken-3"}},[t._v(" fa-envelope ")])],1)],1)],1):t._e(),"Home"==t.currentRouteName&&t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-card-text",{staticClass:"pt-16"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{solo:"","prepend-icon":"fa-home"},on:{change:function(e){return t.saveWeekendhouse()}},model:{value:t.weekendhouse.address,callback:function(e){t.$set(t.weekendhouse,"address",e)},expression:"weekendhouse.address"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{solo:"","prepend-icon":"fa-phone"},on:{change:function(e){return t.saveWeekendhouse()}},model:{value:t.weekendhouse.phone_number,callback:function(e){t.$set(t.weekendhouse,"phone_number",e)},expression:"weekendhouse.phone_number"}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{solo:"","prepend-icon":"fa-facebook"},on:{change:function(e){return t.saveWeekendhouse()}},model:{value:t.weekendhouse.facebook,callback:function(e){t.$set(t.weekendhouse,"facebook",e)},expression:"weekendhouse.facebook"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{solo:"","prepend-icon":"fa-envelope"},on:{change:function(e){return t.saveWeekendhouse()}},model:{value:t.weekendhouse.email,callback:function(e){t.$set(t.weekendhouse,"email",e)},expression:"weekendhouse.email"}})],1)],1)],1):t._e(),a("v-divider"),a("v-card-text",{staticClass:"white--text"},[t._v(" "+t._s((new Date).getFullYear())+" — "),a("strong",[t._v("Kaméleon Nyaralóház")])])],1)],1)}),i=[],l=a("d4ec"),c=a("bee2"),d=a("ade3"),u=a("bc3a"),m=a.n(u);function f(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.accessToken?{Authorization:"Bearer "+t.accessToken}:{}}var v="http://localhost:8080/",p=function(){function t(){Object(l["a"])(this,t),Object(d["a"])(this,"API_URL",v)}return Object(c["a"])(t,[{key:"GET",value:function(t){return m.a.get(v+t,{headers:f()})}},{key:"POST",value:function(t,e){return m.a.post(v+t,e,{headers:f()})}},{key:"PUT",value:function(t,e){return m.a.put(v+t,e,{headers:f()})}},{key:"DELETE",value:function(t){return m.a.delete(v+t,{headers:f()})}}]),t}(),g=new p,h={name:"CFooter",data:function(){return{expand_address:!1,expand_phone:!1,weekendhouse:{}}},computed:{currentRouteName:function(){return this.$route.name}},mounted:function(){this.getWeekendhouse()},methods:{getWeekendhouse:function(){var t=this;g.GET("weekendhouse").then((function(e){if(!e.data)throw"empty list";t.weekendhouse=e.data})).catch((function(t){alert(t)}))},saveWeekendhouse:function(){var t=this;g.PUT("weekendhouse",this.weekendhouse).then((function(e){if(!e.data)throw"empty list";t.weekendhouse=e.data,t.$store.commit("showMessage",{active:!0,color:"cgreen",message:"Sikeres mentés"})})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Sikertelen módosítás"})}))}}},b=h,k=(a("760c"),a("2877")),_=a("6544"),x=a.n(_),y=a("8336"),C=a("b0af"),w=a("99d9"),j=a("62ad"),V=a("ce7e"),T=a("553a"),z=a("132d"),D=a("0fd9"),A=a("8654"),S=Object(k["a"])(b,r,i,!1,null,null,null),E=S.exports;x()(S,{VBtn:y["a"],VCard:C["a"],VCardText:w["c"],VCol:j["a"],VDivider:V["a"],VFooter:T["a"],VIcon:z["a"],VRow:D["a"],VTextField:A["a"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app-bar",{attrs:{color:"cgreen",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!0}}}),a("v-toolbar-title",[t._v("Kaméleon nyaralóház")]),a("v-spacer"),a("v-btn",{attrs:{text:"",to:"/booking"}},[t._v(" Foglalás ")]),a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),n),[a("v-icon",[t._v("mdi-account")])],1)]}}])},[a("v-list",[a("v-list-item",[a("v-btn",{attrs:{text:""},on:{click:t.logout}},[t._v(" Kijelentkezés ")])],1),a("v-list-item",[a("v-btn",{attrs:{text:"",to:"/admin-booking"}},[t._v(" Foglalások")])],1),a("v-list-item",[a("v-btn",{attrs:{text:"",to:"/user-booking"}},[t._v(" Foglalásaim")])],1)],1)],1)],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{"active-class":"corange--text text--accent-4"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[a("v-list-item",{attrs:{to:"/"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-title",[t._v("Kezdőlap")])],1),t._l(t.apartment_routes,(function(e){return a("v-list-item",{key:e.id,attrs:{to:e.url}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home-outline")])],1),a("v-list-item-title",[t._v(t._s(e.name))])],1)})),a("v-list-item",{attrs:{to:"/booking"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-calendar")])],1),a("v-list-item-title",[t._v("Foglalás")])],1),t.$store.getters.loggedIn?t._e():a("v-list-item",{attrs:{to:"/login"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account")])],1),a("v-list-item-title",[t._v("Bejelentkezés")])],1),t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-list-item",{attrs:{to:"/user-management"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-multiple")])],1),a("v-list-item-title",[t._v("Felhasználókezelés")])],1):t._e(),t.$store.getters.loggedIn?a("v-list-item",{on:{click:t.logout}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-outline")])],1),a("v-list-item-title",[t._v("Kijelentkezés")])],1):t._e()],2)],1)],1)],1)},$=[],O={name:"CAppBar",data:function(){return{drawer:!1,group:null}},props:["apartment_routes"],methods:{logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){t.$router.push("/login")})),this.drawer=!this.drawer}}},I=O,P=a("40dc"),F=a("5bc1"),L=a("8860"),M=a("da13"),R=a("1baa"),U=a("34c3"),N=a("5d23"),K=a("e449"),q=a("f774"),G=a("2fa4"),J=a("2a7f"),H=Object(k["a"])(I,B,$,!1,null,null,null),W=H.exports;x()(H,{VAppBar:P["a"],VAppBarNavIcon:F["a"],VBtn:y["a"],VIcon:z["a"],VList:L["a"],VListItem:M["a"],VListItemGroup:R["a"],VListItemIcon:U["a"],VListItemTitle:N["b"],VMenu:K["a"],VNavigationDrawer:q["a"],VSpacer:G["a"],VToolbarTitle:J["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{timeout:2e3,color:t.snackbar.color},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snackbar.active=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.active,callback:function(e){t.$set(t.snackbar,"active",e)},expression:"snackbar.active"}},[t._v(" "+t._s(t.snackbar.message)+" ")])},Z=[],Q=a("5530"),X=a("2f62"),tt={name:"CSnackBar",data:function(){return{}},computed:Object(Q["a"])({},Object(X["b"])(["snackbar"])),mounted:function(){},methods:{}},et=tt,at=a("2db4"),nt=Object(k["a"])(et,Y,Z,!1,null,null,null),ot=nt.exports;x()(nt,{VBtn:y["a"],VSnackbar:at["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("c-description-section",{attrs:{data:t.apartment},on:{"update-apartment":t.onUpdateApartment}}),a("c-gallery-section",{attrs:{apartment:t.apartment}}),a("c-icon-list",{attrs:{properties:t.apartment.properties},on:{"add-property":t.onAddProperty,"delete-property":t.onDeleteProperty}})],1)},rt=[],it=(a("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-parallax",{attrs:{src:a("5fa1"),height:t.innerHeight}},[n("v-row",{staticClass:"pa-md-16 pa-0 ma-md-16 mx-0 mt-6 d-flex",attrs:{align:"start",justify:"start"}},[n("v-col",{staticClass:"col-10 col-md-7 mt-0 mt-sm-14 pt-16 mt-md-0  pt-sm-0 "},[n("img",{staticClass:"d-sm-none",attrs:{src:a("3273")}}),n("img",{staticClass:"d-none d-sm-block",attrs:{src:a("ae48")}}),n("h2",{staticClass:"corange--text"},[t._v("BALATONSZEMES")])]),n("div")],1)],1)],1)}),lt=[],ct={name:"CHeader",components:{},data:function(){return{}},computed:{innerHeight:function(){return window.innerHeight}}},dt=ct,ut=(a("05e3"),a("8b9c")),mt=Object(k["a"])(dt,it,lt,!1,null,"279c38d4",null),ft=mt.exports;x()(mt,{VCol:j["a"],VParallax:ut["a"],VRow:D["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex flex-column flex-md-row px-md-16 px-2 col-12 col-sm-9 col-md-10",attrs:{fluid:""}},[a("v-card",{staticClass:"pa-0 pa-md-10 ma-md-10 ms-1 transparentCard col-md-6 col-12",attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"text-h3 zabatana cgreen--text"},[t._v(t._s(t.apartment.name))]),a("v-card-text",[t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-row",{staticClass:"pb-2"},[a("v-text-field",{attrs:{color:"cgreen",label:"Apartman neve",maxlength:"50",required:""},on:{change:t.onUpdateApartment},model:{value:t.apartment.name,callback:function(e){t.$set(t.apartment,"name",e)},expression:"apartment.name"}})],1):t._e(),t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-row",{staticClass:"pb-2"},[a("v-text-field",{attrs:{color:"cgreen",label:"Ár Ft/éj",type:"number",required:""},on:{change:t.onUpdateApartment},model:{value:t.apartment.price,callback:function(e){t.$set(t.apartment,"price",e)},expression:"apartment.price"}})],1):t._e(),t.$store.getters.isAdmin?t._e():a("h4",[t._v(t._s(t.apartment.price)+" Ft/éj")]),a("c-rich-text-editor",{staticClass:"pt-5",attrs:{description:t.apartment.description},on:{"update-description":t.onUpdateDescription}})],1)],1),a("v-card",{staticClass:"pa-md-10 pa-4 ma-md-10  ma-0 mt-5 mt-md-10 col-12 col-sm-8 col-md-6 align-self-center "},[a("v-card-text",[a("v-row",[a("v-text-field",{attrs:{label:"Date range","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}})],1),a("v-row",[a("v-combobox",{attrs:{filled:"",solo:""}})],1),a("v-row",[a("v-combobox",{attrs:{filled:"",solo:""}})],1),a("v-row",[a("v-btn",{staticClass:"white--text",attrs:{elevation:"2","x-large":"",color:"corange"}},[t._v("FOGLALÁS ")])],1)],1)],1)],1)},pt=[],gt=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("div",{staticClass:"bars"},t._l(t.bars_content,(function(t,e){return a("vue-file-toolbar-menu",{key:"bar-"+e,attrs:{content:t}})})),1):t._e(),a("div",{ref:"text",staticClass:"text",attrs:{id:"mytext",contenteditable:t.$store.getters.loggedIn&&t.$store.getters.isAdmin,spellcheck:"false"},domProps:{innerHTML:t._s(t.description)}})]),t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-row",{staticClass:"pt-5 mx-0",attrs:{align:"center"}},[a("v-btn",{staticClass:"white--text",attrs:{elevation:"2",color:"cgreen"},on:{click:t.saveText}},[t._v("MENTÉS ")])],1):t._e()],1)}),ht=[],bt=(a("d81d"),a("2340")),kt={name:"CRichTextEditor",components:{VueFileToolbarMenu:bt["a"]},data:function(){return{color:"#206a5d",font:"Roboto"}},props:["description"],methods:{focus_text:function(){this.$refs.text.focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()},saveText:function(){var t=document.getElementById("mytext").innerHTML;this.$emit("update-description",t)}},computed:{bars_content:function(){return[[{icon:"format_align_left",title:"Align left",hotkey:this.isMacLike?"shift+command+l":"ctrl+shift+l",click:function(){return document.execCommand("justifyLeft")}},{icon:"format_align_center",title:"Align center",hotkey:this.isMacLike?"shift+command+e":"ctrl+shift+e",click:function(){return document.execCommand("justifyCenter")}},{icon:"format_align_right",title:"Align right",hotkey:this.isMacLike?"shift+command+r":"ctrl+shift+r",click:function(){return document.execCommand("justifyRight")}},{icon:"format_align_justify",title:"Justify content",hotkey:this.isMacLike?"shift+command+j":"ctrl+shift+j",click:function(){return document.execCommand("justifyFull")}},{is:"separator"},{icon:"format_bold",title:"Bold",hotkey:this.isMacLike?"command+b":"ctrl+b",click:function(){return document.execCommand("bold")}},{icon:"format_italic",title:"Italic",hotkey:this.isMacLike?"command+i":"ctrl+i",click:function(){return document.execCommand("italic")}},{icon:"format_underline",title:"Underline",hotkey:this.isMacLike?"command+u":"ctrl+u",click:function(){return document.execCommand("underline")}},{icon:"format_strikethrough",title:"Strike through",click:function(){return document.execCommand("strikethrough")}},{is:"separator"},{html:'<div class="ellipsis" style="width: 80px; font-size: 95%;">'+this.font+"</div>",title:"Font",chevron:!0,menu:this.font_menu,menu_height:200},{is:"separator"},{icon:"format_list_numbered",title:"Numbered list",click:function(){return document.execCommand("insertOrderedList")}},{icon:"format_list_bulleted",title:"Bulleted list",click:function(){return document.execCommand("insertUnorderedList")}},{is:"separator"},{icon:"format_indent_increase",title:"Increase indent",click:function(){return document.execCommand("indent")}},{icon:"format_indent_decrease",title:"Decrease indent",click:function(){return document.execCommand("outdent")}},{is:"separator"},{icon:"format_clear",text:"Clear",title:"Clear format",click:function(){document.execCommand("removeFormat"),document.execCommand("formatBlock",!1,"<div>")}}]]},isMacLike:function(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},font_menu:function(){var t=this;return this.font_list.map((function(e){return{html:'<span class="ellipsis" style="font-family:'+e+'">'+e+"</span>",icon:"default"!=t.theme&&t.font==e&&"check",active:t.font==e,height:20,click:function(){document.execCommand("fontName",!1,e),t.font=e}}}))},font_list:function(){return["Roboto Thin","Roboto Light","Roboto"]},is_touch_device:function(){return"ontouchstart"in window||window.navigator.msMaxTouchPoints>0}},mounted:function(){this.is_touch_device||this.focus_text()}},_t=kt,xt=Object(k["a"])(_t,gt,ht,!1,null,null,null),yt=xt.exports;x()(xt,{VBtn:y["a"],VRow:D["a"]});var Ct={name:"CReserveSection",data:function(){return{dateRangeText:null,color:"#206a5d",font:"Roboto",apartment:{}}},methods:{onUpdateDescription:function(t){this.apartment.description=t,this.onUpdateApartment()},onUpdateApartment:function(){this.$emit("update-apartment",this.apartment)}},components:{CRichTextEditor:yt},props:["data"],mounted:function(){this.apartment=JSON.parse(JSON.stringify(this.data))}},wt=Ct,jt=a("2b5d"),Vt=a("a523"),Tt=Object(k["a"])(wt,vt,pt,!1,null,"570ccece",null),zt=Tt.exports;x()(Tt,{VBtn:y["a"],VCard:C["a"],VCardText:w["c"],VCardTitle:w["d"],VCombobox:jt["a"],VContainer:Vt["a"],VRow:D["a"],VTextField:A["a"]});var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-md-16 py-8 gallery-section"},[t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("c-file-upload",{attrs:{apartmentId:t.apartment.id},on:{"uploaded-pictures":t.onUploadedPictures}}):t._e(),a("v-container",{staticClass:"col-10"},[a("c-gallery",{attrs:{pictures:t.apartment.pictures},on:{"delete-picture":t.onDeletePicture}})],1)],1)},At=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{staticClass:"d-flex justify-center pb-10"},[a("v-card",{staticClass:"col-12 col-md-8 pb-md-10",attrs:{elevation:"2"}},[a("v-card-title",{staticClass:"text-h3 zabatana corange--text px-0 pa-md-4"},[t._v("Képek feltöltése")]),a("v-card-text",{staticClass:"pa-0 pa-md-4"},[a("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:t.dropzoneOptions},on:{"vdropzone-file-added":t.fileAdded,"vdropzone-removed-file":t.fileRemoved}})],1),a("v-card-actions",{staticClass:"pa-0 pa-md-4"},[a("v-btn",{staticClass:"white--text mt-5 ",attrs:{elevation:"2",color:"cgreen"},on:{click:t.savePictures}},[t._v("FELTÖLTÉS ")])],1)],1)],1)],1)},Et=[],Bt=a("b85c"),$t=a("92c3"),Ot=a.n($t),It=(a("1e3f"),{name:"CFileUpload",components:{vueDropzone:Ot.a},props:["apartmentId"],data:function(){return{dropzoneOptions:{url:"https://httpbin.org/post",uploadMultiple:!0,autoProcessQueue:!1,addRemoveLinks:!0,acceptedFiles:"image/*",dictDefaultMessage:"Húzd ide a feltöltésre szánt képeket"},filesToUpload:[]}},computed:{},mounted:function(){},methods:{fileAdded:function(t){this.$refs.myVueDropzone.processQueue(),this.filesToUpload.push(t)},fileRemoved:function(t){function e(e){return JSON.stringify(e)!==JSON.stringify(t)}this.filesToUpload=this.filesToUpload.filter(e)},savePictures:function(){var t,e=this,a=new FormData,n=Object(Bt["a"])(this.filesToUpload);try{for(n.s();!(t=n.n()).done;){var o=t.value;a.append("files",o)}}catch(s){n.e(s)}finally{n.f()}a.append("apartmentId",this.apartmentId),g.POST("apartment/addpictures",a).then((function(t){e.$emit("uploaded-pictures",t.data),e.$store.commit("showMessage",{active:!0,color:"cgreen",message:"Sikeres feltöltés"})})).catch((function(t){e.$store.commit("showMessage",{active:!0,color:"error",message:"Nem sikerült feltölteni a képeket. Próbáld újra!"})})),this.$refs.myVueDropzone.removeAllFiles(!0)}}}),Pt=It,Ft=(a("728d"),Object(k["a"])(Pt,St,Et,!1,null,null,null)),Lt=Ft.exports;x()(Ft,{VBtn:y["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VContainer:Vt["a"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",[a("v-row",[a("LightGallery",{attrs:{images:t.pictureURLs,index:t.index,"disable-scroll":!0},on:{close:function(e){t.index=null}}}),t._l(t.pictures,(function(e,n){return a("v-col",{key:n,staticClass:"d-flex child-flex col-md-4 col-6"},[a("v-img",{staticClass:"grey lighten-2",attrs:{src:t.$store.state.imgPath+e,"lazy-src":"https://picsum.photos/10/6?image="+(5*t.index+10),"aspect-ratio":"1",id:"picture"},on:{click:function(e){t.index=n}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[a("v-spacer"),a("v-btn",{attrs:{color:"white",icon:""},on:{click:function(a){return t.openDialog(a,e)}}},[a("v-icon",[t._v("fa-close")])],1)],1):t._e()],1)],1)}))],2)],1),a("confirm-dialog",{on:{confirm:t.deletePicture}})],1)},Rt=[],Ut=a("d0ea"),Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":t.dialogData.hasForm?600:290,"retain-focus":!1},model:{value:t.dialogData.isOpen,callback:function(e){t.$set(t.dialogData,"isOpen",e)},expression:"dialogData.isOpen"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.dialogData.title)+" ")]),t.dialogData.hasForm||t.dialogData.text?a("v-card-text",[a("p",[t._v(t._s(t.dialogData.text))]),t.dialogData.form&&t.dialogData.form.dropdownLabel?a("v-combobox",{staticClass:"my-0",attrs:{items:t.dialogData.form.dropdownItems,label:t.dialogData.form.dropdownLabel,solo:"","item-text":"name",color:"cgreen"},model:{value:t.form.newStatus,callback:function(e){t.$set(t.form,"newStatus",e)},expression:"form.newStatus"}}):t._e(),t.dialogData.hasForm?a("v-textarea",{attrs:{label:t.dialogData.form.textfieldLabel,solo:""},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}}):t._e()],1):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"cgreen darken-1",text:""},on:{click:function(e){return t.cancel()}}},[t._v(" Mégse ")]),a("v-btn",{attrs:{color:t.dialogData.confirmButtonColor,text:"",disabled:t.isButtonDisabled},on:{click:function(e){return t.confirm()}}},[t._v(" "+t._s(t.dialogData.confirmButton)+" ")])],1)],1)],1)},Kt=[],qt={name:"CConfirmDialog",props:[],data:function(){return{form:{comment:"",newStatus:""}}},computed:Object(Q["a"])(Object(Q["a"])({},Object(X["b"])("dialog",["dialogData"])),{},{isButtonDisabled:function(){return!!this.dialogData.hasForm&&this.dialogData.form.textfieldRequired&&!this.form.comment||!!this.dialogData.hasForm&&this.dialogData.form.dropdownItems.length>0&&!this.form.newStatus}}),mounted:function(){},methods:{confirm:function(){this.$store.commit("dialog/closeDialog"),this.dialogData.form?(this.form.newStatus=this.form.newStatus.status,this.$emit("confirm",this.form)):this.$emit("confirm"),this.form.comment="",this.form.newStatus=""},cancel:function(){this.form.comment="",this.form.newStatus="",this.$store.commit("dialog/closeDialog"),this.$emit("cancel")}}},Gt=qt,Jt=a("169a"),Ht=a("a844"),Wt=Object(k["a"])(Gt,Nt,Kt,!1,null,null,null),Yt=Wt.exports;x()(Wt,{VBtn:y["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VCombobox:jt["a"],VDialog:Jt["a"],VSpacer:G["a"],VTextarea:Ht["a"]});var Zt,Qt={name:"CGallery",props:["pictures"],components:{LightGallery:Ut["a"],ConfirmDialog:Yt},data:function(){return{index:null,pictureToBeRemoved:null}},mounted:function(){},methods:{deletePicture:function(){this.$emit("delete-picture",this.pictureToBeRemoved)},openDialog:function(t,e){t.stopImmediatePropagation(),this.$store.commit("dialog/openSimpleDialog",{title:"Biztosan törölni szeretnéd?",confirmButton:"Törlés"}),this.pictureToBeRemoved=e}},computed:{pictureURLs:function(){var t=this,e=[];return this.pictures.forEach((function(a){e.push(t.$store.state.imgPath+a)})),e}}},Xt=Qt,te=(a("7d8a"),a("adda")),ee=a("490a"),ae=Object(k["a"])(Xt,Mt,Rt,!1,null,null,null),ne=ae.exports;x()(ae,{VAppBar:P["a"],VBtn:y["a"],VCol:j["a"],VIcon:z["a"],VImg:te["a"],VProgressCircular:ee["a"],VRow:D["a"],VSpacer:G["a"]});var oe=(Zt={name:"CGallerySection",props:["apartment"],data:function(){return{}},components:{CGallery:ne,CFileUpload:Lt}},Object(d["a"])(Zt,"data",(function(){return{}})),Object(d["a"])(Zt,"computed",{}),Object(d["a"])(Zt,"mounted",(function(){})),Object(d["a"])(Zt,"methods",{onUploadedPictures:function(t){this.apartment=t},onDeletePicture:function(t){var e=this;g.DELETE("apartment/deletepic/"+this.apartment.id+"/"+t).then((function(t){e.apartment=t.data,e.$store.commit("showMessage",{active:!0,color:"cgreen",message:"Sikeres törlés"})})).catch((function(t){e.$store.commit("showMessage",{active:!0,color:"error",message:"HIba történt a kép törlésekor. Próbáld újra!"})}))}}),Zt),se=oe,re=(a("b564"),Object(k["a"])(se,Dt,At,!1,null,"6f7511db",null)),ie=re.exports;x()(re,{VContainer:Vt["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"icons-container",attrs:{fluid:""}},[a("v-row",{staticClass:"\n      d-flex\n      justify-center justify-md-space-between\n      px-md-16 px-5\n      icons-container\n      my-16\n    "},[t._l(t.properties,(function(e,n){return a("div",{key:e.id,staticClass:"\n        pa-md-2\n        px-4\n        py-6\n        d-flex\n        align-center\n        justify-start\n        flex-column\n        col-4 col-sm-2 col-md-1\n      "},[a("v-btn",{style:{color:t.colors[n%5]},attrs:{icon:"","x-large":"",id:"property-icon"}},[a("v-icon",{attrs:{"x-large":""}},[t._v(" "+t._s(e.icon_name)+" ")])],1),a("div",{staticClass:"cgreen--text"},[t._v(t._s(e.name))]),t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-btn",{attrs:{icon:"",color:"grey darken-3"},on:{click:function(a){return a.stopPropagation(),t.openDialog(e)}}},[a("v-icon",{attrs:{small:""}},[t._v(" fa-close ")])],1):t._e()],1)})),a("confirm-dialog",{on:{confirm:t.deleteProperty}})],2),t.$store.getters.loggedIn&&t.$store.getters.isAdmin?a("v-container",{staticClass:"d-flex justify-center pb-10 pa-0 pa-md-2"},[a("v-card",{staticClass:"col-12 col-md-8 pb-10 pa-0 pa-md-2",attrs:{elevation:"2"}},[a("v-card-title",{staticClass:"text-h3 zabatana corange--text"},[t._v("Tulajdonság hozzáadása")]),a("v-card-text",[a("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("div",{staticClass:"d-flex pb-5"},[a("p",{staticClass:"align-self-center ma-0"},[t._v("Ikonokat")]),a("v-btn",{staticClass:"align-self-center",attrs:{text:"",small:"",color:"primary",href:"https://fontawesome.com/v5.15/icons?d=gallery&p=2&q=swimming",target:"blank"}},[t._v(" innen ")]),a("p",{staticClass:"align-self-center ma-0"},[t._v(" lehet keresni. A kiválasztott ikon nevét kell megadni. ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Tulajdonság",hint:"pl.: Fürdési lehetőség","persistent-hint":"",solo:"",rules:[t.rules.required]},model:{value:t.newProperty.name,callback:function(e){t.$set(t.newProperty,"name",e)},expression:"newProperty.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"5"}},[a("v-text-field",{attrs:{label:"Ikon",solo:"",hint:"pl.: fa-swimming-pool","persistent-hint":"",rules:[t.rules.required]},model:{value:t.newProperty.icon_name,callback:function(e){t.$set(t.newProperty,"icon_name",e)},expression:"newProperty.icon_name"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"1"}},[a("v-icon",{attrs:{large:"",size:"24px",color:"cgreen"}},[t._v(" "+t._s("fa-"+t.newProperty.icon_name)+" ")])],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{elevation:"2",color:"cgreen"},on:{click:t.addProperty}},[t._v("MENTÉS ")])],1)],1)],1):t._e()],1)},ce=[],de={name:"CIconList",props:["properties"],components:{ConfirmDialog:Yt},data:function(){return{colors:["darkblue","orange","purple","green","darkred"],newProperty:{name:"",icon_name:""},propertyToBeRemoved:null,rules:{required:function(t){return!!t||"Kötelező."}},valid:!0}},methods:{deleteProperty:function(){this.$emit("delete-property",this.propertyToBeRemoved)},addProperty:function(){this.$refs.loginForm.validate()&&(this.newProperty.icon_name="fa-"+this.newProperty.icon_name,this.$emit("add-property",this.newProperty),this.newProperty={name:"",icon_name:""})},openDialog:function(t){this.$store.commit("dialog/openSimpleDialog",{title:"Biztosan törölni szeretnéd?",confirmButton:"Törlés"}),this.propertyToBeRemoved=t}}},ue=de,me=(a("dc07"),a("4bd4")),fe=Object(k["a"])(ue,le,ce,!1,null,"43cf8b98",null),ve=fe.exports;x()(fe,{VBtn:y["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VCol:j["a"],VContainer:Vt["a"],VForm:me["a"],VIcon:z["a"],VRow:D["a"],VTextField:A["a"]});var pe={name:"CApartment",props:["apartment"],components:{CHeader:ft,CDescriptionSection:zt,CGallerySection:ie,CIconList:ve},data:function(){return{}},mounted:function(){},methods:{onAddProperty:function(t){var e=JSON.parse(JSON.stringify(this.apartment));e.properties.push(t),this.saveApartment(e)},onDeleteProperty:function(t){var e=JSON.parse(JSON.stringify(this.apartment));e.properties=e.properties.filter((function(e){return e.id!==t.id})),this.saveApartment(e)},saveApartment:function(t){var e=this;g.PUT("apartment",t).then((function(t){e.apartment=t.data,e.$store.commit("showMessage",{active:!0,color:"cgreen",message:"Sikeres mentés"})})).catch((function(t){e.$store.commit("showMessage",{active:!0,color:"error",message:"Sikertelen mentés"})}))},onUpdateApartment:function(t){this.saveApartment(t)},created:function(){},mounted:function(){}}},ge=pe,he=Object(k["a"])(ge,st,rt,!1,null,null,null),be=he.exports,ke=(a("caad"),a("8c4f")),_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("c-header"),a("c-reserve-section",{attrs:{description:t.weekendhouse.description,apartments:t.apartments},on:{"update-description":t.onUpdateDescription}}),a("c-icon-list",{attrs:{properties:t.weekendhouse.properties},on:{"add-property":t.onAddProperty,"delete-property":t.onDeleteProperty}}),t._l(t.apartments,(function(t,e){return a("c-reserve-apartment-section",{key:t.id,attrs:{index:e,apartment:t}})}))],2)},xe=[],ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"col-12 mx-0 reserve-section",attrs:{fluid:""}},[a("v-container",{staticClass:" d-flex flex-column flex-md-row px-md-16 px-2 col-12 col-sm-9 col-md-10",attrs:{fluid:""}},[a("v-card",{staticClass:"pa-0 pa-md-10 ma-md-10 ms-1 transparentCard col-md-6 col-12",attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"text-h2 zabatana cgreen--text"},[t._v("Foglalj apartmant")]),a("v-card-text",[a("c-rich-text-editor",{attrs:{description:t.description},on:{"update-description":t.onUpdateDescription}})],1)],1),a("reserve-section-date-picker",{attrs:{apartments:t.apartments}})],1)],1)},Ce=[],we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"\n    pa-md-10 pa-4\n    ma-md-10 ma-0\n    mt-5 mt-md-10\n    col-12 col-sm-8 col-md-6\n    align-self-center\n  "},[a("v-card-text",[a("v-row",[a("v-combobox",{staticClass:"my-0",attrs:{items:t.apartments,"item-text":"name","prepend-inner-icon":"mdi-home",label:"Apartman",solo:"",color:"cgreen"},on:{change:function(e){return t.dataChanged()}},model:{value:t.selectedApartment,callback:function(e){t.selectedApartment=e},expression:"selectedApartment"}})],1),a("v-row",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{disabled:!t.selectedApartment,label:"Date range","prepend-inner-icon":"mdi-calendar",readonly:"",solo:""},on:{click:t.dateClick},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{range:"","no-title":"",scrollable:"",color:"cgreen",disabled:!t.selectedApartment||-1===t.disabled_dates,"allowed-dates":t.allowedDates,"show-adjacent-months":"","full-width":""},on:{input:t.dateClick},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-progress-linear",{attrs:{active:t.loading,indeterminate:t.loading,absolute:"",bottom:"",color:"cgreen"}}),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" OK ")])],1)],1)],1),a("v-row",[a("v-checkbox",{staticClass:"my-0",attrs:{label:"Kutyussal jövünk",hint:"Plusz költséggel nem jár, de korlátozhatja az elérhető dátumok számát.","persistent-hint":t.dogIncluded,color:"cgreen"},on:{change:function(e){return t.dataChanged()}},model:{value:t.dogIncluded,callback:function(e){t.dogIncluded=e},expression:"dogIncluded"}})],1),a("v-row",[a("v-btn",{staticClass:"white--text mt-3",attrs:{elevation:"2","x-large":"",color:"corange"},on:{click:function(e){return t.submit()}}},[t._v("FOGLALÁS ")])],1)],1)],1)},je=[],Ve=(a("a15b"),a("2909")),Te=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("2532"),a("c1df")),ze=a.n(Te),De=(a("b64b"),g.API_URL),Ae=function(){function t(){Object(l["a"])(this,t)}return Object(c["a"])(t,[{key:"login",value:function(t){return m.a.post(De+"auth/signin",t).then((function(t){return t.data.accessToken&&localStorage.setItem("user",JSON.stringify(t.data)),t.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(t){return m.a.post(De+"auth/signup",t)}}]),t}(),Se=new Ae,Ee=JSON.parse(localStorage.getItem("user")),Be=Ee?{status:{loggedIn:!0},user:Ee}:{status:{loggedIn:!1},user:null},$e={namespaced:!0,state:Be,actions:{login:function(t,e){var a=t.commit;return Se.login(e).then((function(t){return a("loginSuccess",t),Promise.resolve(t)}),(function(t){return a("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;Se.logout(),e("logout")},register:function(t,e){var a=t.commit;return Se.register(e).then((function(t){return a("registerSuccess"),Promise.resolve(t.data)}),(function(t){return a("registerFailure"),Promise.reject(t)}))}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},logout:function(t){t.status.loggedIn=!1,t.user=null},registerSuccess:function(t){t.status.loggedIn=!1},registerFailure:function(t){t.status.loggedIn=!1}}},Oe={namespaced:!0,state:{dialogData:{isOpen:!1,title:"",text:"",confirmButton:"OK",confirmButtonColor:"success",hasForm:!1,form:{textfieldLabel:"",textfieldRequired:!0,dropdownLabel:"",dropdownItems:[]}}},mutations:{closeDialog:function(t){t.dialogData.isOpen=!1},openSimpleDialog:function(t,e){t.dialogData.title=e.title||"",t.dialogData.text=e.text||"",t.dialogData.confirmButtonColor=e.confirmButtonColor||"success",t.dialogData.confirmButton=e.confirmButton||"OK",t.dialogData.hasForm=!1,t.dialogData.confirmButton=e.confirmButton,t.dialogData.isOpen=!0},openDialogWithForm:function(t,e){t.dialogData.title=e.title||"",t.dialogData.text=e.text||"",t.dialogData.confirmButtonColor=e.confirmButtonColor||"success",t.dialogData.confirmButton=e.confirmButton||"OK",t.dialogData.confirmButton=e.confirmButton,t.dialogData.hasForm=!0,t.dialogData.form.textfieldLabel=e.form.textfieldLabel||"",t.dialogData.form.textfieldRequired=e.form.textfieldRequired||"",t.dialogData.form.dropdownLabel=e.form.dropdownLabel||"",t.dialogData.form.dropdownItems=e.form.dropdownItems||"",t.dialogData.isOpen=!0}}};n["a"].use(X["a"]);var Ie=new X["a"].Store({state:{snackbar:{},imgPath:"./images/apartments/",bookingData:{},selectedApartmentId:null},mutations:{showMessage:function(t,e){t.snackbar=e},saveBookingData:function(t,e){t.bookingData=e},selectApartmentId:function(t,e){t.selectedApartmentId=e}},actions:{},getters:{isAdmin:function(t){return!(!$e.state.user||!$e.state.user.authorities)&&$e.state.user.authorities.length>1},getCurrentEmail:function(t){return t.auth.user?t.auth.user.username:""},loggedIn:function(t){return!(!$e.state.status||!$e.state.status.loggedIn)&&$e.state.status.loggedIn},getBookingData:function(t){return t.bookingData},getSelectedApartmentId:function(t){return t.selectedApartmentId},isApartmentSelected:function(t){return null!=t.selectedApartmentId},isAvailableBookingData:function(t){return 0!==Object.keys(t.bookingData).length}},modules:{auth:$e,dialog:Oe}}),Pe=function(){function t(){Object(l["a"])(this,t)}return Object(c["a"])(t,[{key:"convertBookingsToEvents",value:function(t){var e=Ie.getters.currentUserEmail,a=this.getApartmentsWithColor(t),n=[];return t.forEach((function(t){n.push({name:t.user.lastname+" "+t.user.firstname,start:ze()(t.arrival).format("YYYY-MM-DD"),end:ze()(t.departure).format("YYYY-MM-DD"),color:a[t.apartment.name],timed:!1,admin:t.user.email===e,booking:t})})),n}},{key:"getApartmentsWithColor",value:function(t){var e=["cyan darken-2","indigo","green","blue","orange"],a=t.map((function(t){return t.apartment.name}));a=Object(Ve["a"])(new Set(a));var n={};return a.forEach((function(t,a){n[t]=e[a]})),n}},{key:"allowedDates",value:function(t,e){return!(ze()(t)<ze()().add(5,"days"))&&(!(ze()(t)>ze()().add(2,"years"))&&!e.includes(t))}},{key:"getDaysBetweenDates",value:function(t,e){t=ze()(t),e=ze()(e);var a=t.clone(),n=[];while(a.isSameOrBefore(e))n.push(a.format("YYYY-MM-DD")),a.add(1,"days");return n}},{key:"formatDate",value:function(t){return ze()(t).locale("hu").format("LL")+" ("+ze()(t).locale("hu").format("dddd")+")"}},{key:"isGreatherThan",value:function(t,e){return ze()(t)>ze()(e)}},{key:"getTotalPriceForBooking",value:function(t,e,a){return t&&e&&a?(a*(this.getDaysBetweenDates(t,e).length-1)).toLocaleString():0}},{key:"getDisabledDates",value:function(t,e){return new Promise((function(a,n){t&&g.GET("booking/disabled_dates/"+t.id+"/"+e).then((function(t){a(t.data)})).catch((function(t){Ie.commit("showMessage",{active:!0,color:"error",message:"Hiba történt az elérhető dátumok lekérdezésénél"}),n(-1)}))}))}},{key:"dateClick",value:function(t,e){if(t.length>1){if(this.isGreatherThan(t[0],t[1])){var a=[t[1],t[0]];t[0]=a[0],t[1]=a[1]}if(t[0]==t[1])return[];var n=this.getDaysBetweenDates(t[0],t[1]),o=n.some((function(t){return e.indexOf(t)>=0}));return o?[]:t}return t}}]),t}(),Fe=new Pe,Le={name:"CReserveSectionDatePicker",data:function(){return{menu:!1,selectedApartment:"",dogIncluded:!1,dates:[],disabled_dates:[],loading:!1}},methods:{dataChanged:function(){var t=this;this.dates=[],this.loading=!0,Fe.getDisabledDates(this.selectedApartment,this.dogIncluded).then((function(e){t.disabled_dates=e,t.loading=!1})).catch((function(e){t.disabled_dates=e,t.loading=!1}))},allowedDates:function(t){return Fe.allowedDates(t,this.disabled_dates)},dateClick:function(){this.dates=Fe.dateClick(this.dates,this.disabled_dates)},submit:function(){var t={selectedApartment:this.selectedApartment,dogIncluded:this.dogIncluded,disabled_dates:this.disabled_dates,apartments:this.apartments,dates:this.dates};this.$store.commit("saveBookingData",t),this.$router.push("/booking")}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},mounted:function(){},props:["apartments"]},Me=Le,Re=(a("0e92"),a("ac7c")),Ue=a("2e4b"),Ne=a("8e36"),Ke=Object(k["a"])(Me,we,je,!1,null,"6e16a7b2",null),qe=Ke.exports;x()(Ke,{VBtn:y["a"],VCard:C["a"],VCardText:w["c"],VCheckbox:Re["a"],VCombobox:jt["a"],VDatePicker:Ue["a"],VMenu:K["a"],VProgressLinear:Ne["a"],VRow:D["a"],VSpacer:G["a"],VTextField:A["a"]});var Ge={name:"CReserveSection",data:function(){return{dateRangeText:null}},methods:{onUpdateDescription:function(t){this.$emit("update-description",t)}},components:{CRichTextEditor:yt,ReserveSectionDatePicker:qe},props:["description","apartments"]},Je=Ge,He=(a("777b"),Object(k["a"])(Je,ye,Ce,!1,null,"693ab548",null)),We=He.exports;x()(He,{VCard:C["a"],VCardText:w["c"],VCardTitle:w["d"],VContainer:Vt["a"]});var Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"d-flex flex-column flex-md-row col-12 pa-0",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"flex-grow-1 flex-shrink-0 order-1 col-12 col-md-6",class:{"order-md-2":t.index%2==0},staticStyle:{"min-width":"100px","max-width":"100%"},attrs:{cols:"6"}},[a("v-card",{staticClass:"pa-2 justify-md-center align-md-center justify-start",class:{"justify-md-end":t.index%2==5},attrs:{color:"white",height:"100%"}},[a("v-list",{staticClass:"px-md-16 px-4 py-10 overflow-x-auto",staticStyle:{"max-height":"100%, max-width: 100%"},attrs:{color:"transparent"}},t._l(t.apartment.properties,(function(e){return a("v-list-item",{key:e.title},[a("v-list-item-icon",[a("v-icon",{attrs:{color:"clightgreen"}},[t._v(" fa-chevron-circle-right ")])],1),a("v-list-item-content",[t._v(" "+t._s(e.name)+" ")])],1)})),1)],1)],1),a("v-col",{staticClass:"order-0 col-12 col-md-6",class:{"order-md-1":t.index%2==1}},[a("v-parallax",{attrs:{dark:"",src:t.$store.state.imgPath+t.apartment.pictures[0]}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-overlay",{staticClass:"d-flex flex-column",attrs:{absolute:"",color:"cgreen"}},[a("v-row",[a("v-card-title",{staticClass:"text-h3 zabatana white--text"},[t._v(" "+t._s(t.apartment.name))])],1),a("v-row",[a("v-btn",{staticClass:"ma-2",attrs:{elevation:"2","x-large":"",color:"corange"},on:{click:function(e){return t.toBooking()}}},[t._v("FOGLALÁS ")]),a("v-btn",{staticClass:"ma-2",attrs:{to:t.getRoute,elevation:"2","x-large":"",color:"cyellow"}},[t._v("BŐVEBBEN ")])],1)],1)],1)],1)],1)],1)],1)},Ze=[],Qe={name:"CReserveApartmentSection",props:["index","apartment"],components:{},data:function(){return{}},methods:{slugifyString:function(t){t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase();for(var e="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",a="aaaaaeeeeeiiiiooooouuuunc------",n=0,o=e.length;n<o;n++)t=t.replace(new RegExp(e.charAt(n),"g"),a.charAt(n));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t},toBooking:function(){this.$store.commit("selectApartmentId",this.apartment.id),this.$router.push("/booking")}},computed:{getRoute:function(){return"/"+this.slugifyString(this.apartment.name)}}},Xe=Qe,ta=a("a797"),ea=Object(k["a"])(Xe,Ye,Ze,!1,null,"35bf0fee",null),aa=ea.exports;x()(ea,{VBtn:y["a"],VCard:C["a"],VCardTitle:w["d"],VCol:j["a"],VIcon:z["a"],VList:L["a"],VListItem:M["a"],VListItemContent:N["a"],VListItemIcon:U["a"],VOverlay:ta["a"],VParallax:ut["a"],VRow:D["a"]});var na={name:"CHome",components:{CHeader:ft,CReserveSection:We,CIconList:ve,CReserveApartmentSection:aa},data:function(){return{weekendhouse:{},apartments:[]}},mounted:function(){this.getWeekendhouse(),this.getApartments()},methods:{getWeekendhouse:function(){var t=this;g.GET("weekendhouse").then((function(e){if(!e.data)throw"empty list";t.weekendhouse=e.data})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt a nyaraló adatainak lekérésénél"})}))},getApartments:function(){var t=this;g.GET("apartment").then((function(e){if(!e.data)throw"empty list";t.apartments=e.data})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt az apartmanok adatainak lekérésénél"})}))},onAddProperty:function(t){var e=JSON.parse(JSON.stringify(this.weekendhouse));e.properties.push(t),this.saveWeekendhouse(e)},onDeleteProperty:function(t){var e=JSON.parse(JSON.stringify(this.weekendhouse));e.properties=e.properties.filter((function(e){return e.id!==t.id})),this.saveWeekendhouse(e)},saveWeekendhouse:function(t){var e=this;g.PUT("weekendhouse",t).then((function(t){if(!t.data)throw"empty list";e.weekendhouse=t.data,e.$store.commit("showMessage",{active:!0,color:"cgreen",message:"Sikeres mentés"})})).catch((function(t){e.$store.commit("showMessage",{active:!0,color:"error",message:"Sikertelen mentés"})}))},onUpdateDescription:function(t){var e=JSON.parse(JSON.stringify(this.weekendhouse));e.description=t,this.saveWeekendhouse(e)}}},oa=na,sa=Object(k["a"])(oa,_e,xe,!1,null,null,null),ra=sa.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex justify-center pb-10 col-12 col-sm-10 col-md-8"},[a("v-stepper",{staticClass:"col-12",model:{value:t.currentStep,callback:function(e){t.currentStep=e},expression:"currentStep"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.currentStep>1,step:"1",color:"cgreen"}},[t._v(" Dátum kiválasztása ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:t.currentStep>2,step:"2",color:"cgreen"}},[t._v(" Adatok kitöltése ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:t.currentStep>3,step:"3",color:"cgreen"}},[t._v(" Véglegesítés ")]),t.successfulBooking?a("v-divider"):t._e(),t.successfulBooking?a("v-stepper-step",{attrs:{complete:t.currentStep>3,step:"4",color:"cyellow"}},[t._v(" Sikeres foglalás ")]):t._e()],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("booking-step-one",{on:{"next-step":t.finishStepOne}})],1),a("v-stepper-content",{attrs:{step:"2"}},[a("booking-step-two",{on:{"next-step":t.finishStepTwo,"back-step":function(e){t.currentStep--}}})],1),a("v-stepper-content",{attrs:{step:"3"}},[a("booking-step-three",{attrs:{user:t.user,booking:t.booking},on:{"next-step":t.finishStepThree,"back-step":function(e){t.currentStep--}}})],1),a("v-stepper-content",{attrs:{step:"4"}},[a("booking-step-success",{attrs:{booking:t.bookingResponse}})],1)],1)],1)],1)},la=[],ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",{staticClass:"d-flex justify-space-between align-center col-12"},[a("v-col",{staticClass:"col-4 d-flex flex-column"},[a("v-combobox",{staticClass:"my-0",attrs:{items:t.apartments,"item-text":"name",label:"Apartman",solo:"",color:"cgreen"},on:{change:function(e){return t.dataChanged()}},model:{value:t.selectedApartment,callback:function(e){t.selectedApartment=e},expression:"selectedApartment"}}),a("v-checkbox",{staticClass:"my-0",attrs:{label:"Kutyussal jövünk",hint:"Plusz költséggel nem jár, de korlátozhatja az elérhető dátumok számát.","persistent-hint":t.dogIncluded,color:"cgreen"},on:{change:function(e){return t.dataChanged()}},model:{value:t.dogIncluded,callback:function(e){t.dogIncluded=e},expression:"dogIncluded"}}),a("v-divider",{staticClass:"my-5"}),a("v-text-field",{staticClass:"mt-7",attrs:{value:t.totalCost+" Ft",label:"Fizetendő összeg",outlined:"",color:"cgreen",dense:"",readonly:"",hint:"Az "+t.selectedApartment.name+" költsége egy éjszakára "+t.selectedApartment.price+" Ft","persistent-hint":!!t.selectedApartment}}),a("v-expand-transition",[t.dates.length>0?a("div",{staticClass:"pt-7",attrs:{caption:""}},[t._v(" Érkezés napja: "+t._s(t.arrival)+" ")]):t._e()]),a("v-expand-transition",[2==t.dates.length?a("div",{attrs:{caption:""}},[t._v(" Távozás napja: "+t._s(t.departure)+" ")]):t._e()])],1),a("v-col",{staticClass:"d-flex justify-start col-6"},[a("v-date-picker",{attrs:{range:"",color:"cgreen",disabled:!t.selectedApartment||-1===t.disabled_dates,"allowed-dates":t.allowedDates,"show-adjacent-months":"","full-width":"","first-day-of-week":1},on:{"click:date":t.dateClick},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-progress-linear",{attrs:{active:t.loading,indeterminate:t.loading,absolute:"",bottom:"",color:"cgreen"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{color:"clightgreen",disabled:2!=t.dates.length},on:{click:t.finishStepOne}},[t._v(" Tovább ")]),a("v-btn",{attrs:{text:""},on:{click:t.cancelBooking}},[t._v(" Mégse ")])],1)],1)},da=[],ua=function(){function t(){Object(l["a"])(this,t)}return Object(c["a"])(t,[{key:"allowedDates",value:function(t,e){return!(ze()(t)<ze()().add(5,"days"))&&(!(ze()(t)>ze()().add(2,"years"))&&!e.includes(t))}},{key:"getDaysBetweenDates",value:function(t,e){t=ze()(t),e=ze()(e);var a=t.clone(),n=[];while(a.isSameOrBefore(e))n.push(a.format("YYYY-MM-DD")),a.add(1,"days");return n}},{key:"formatDate",value:function(t){return ze()(t).locale("hu").format("LL")+" ("+ze()(t).locale("hu").format("dddd")+")"}},{key:"formatDateTime",value:function(t){return ze()(t).locale("hu").format("LLLL")}},{key:"formatDateFromNow",value:function(t){return ze()(t).locale("hu").fromNow()}},{key:"isGreatherThan",value:function(t,e){return ze()(t)>ze()(e)}},{key:"sort",value:function(t,e,a){var n=ze()(t),o=ze()(e);return a?n.isBefore(o)?1:n.isAfter(o)?-1:0:n.isBefore(o)?-1:n.isAfter(o)?1:0}}]),t}(),ma=new ua,fa={name:"CBookingStepOne",props:[],components:{},data:function(){return{selectedApartment:"",apartments:[],dogIncluded:!1,dates:[],disabled_dates:[],loading:!1}},methods:{getApartments:function(){var t=this;g.GET("apartment").then((function(e){if(t.apartments=e.data,t.selectedApartment=t.apartments[0],t.$store.getters.isApartmentSelected){var a=t.$store.getters.getSelectedApartmentId;t.$store.commit("selectApartmentId",null),t.apartments.forEach((function(e){e.id==a&&(t.selectedApartment=e)}))}t.dataChanged()})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt az apartmanok adatainak lekérésénél"})}))},dataChanged:function(){var t=this;this.dates=[],this.loading=!0,Fe.getDisabledDates(this.selectedApartment,this.dogIncluded).then((function(e){t.disabled_dates=e,t.loading=!1})).catch((function(e){t.disabled_dates=e,t.loading=!1}))},allowedDates:function(t){return ma.allowedDates(t,this.disabled_dates)},dateClick:function(t){this.dates=Fe.dateClick(this.dates,this.disabled_dates)},finishStepOne:function(){var t={apartmentId:this.selectedApartment.id,dogIncluded:this.dogIncluded,arrival:this.dates[0],departure:this.dates[1]};this.$emit("next-step",t)},cancelBooking:function(){this.$router.push("/")}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")},totalCost:function(){return!this.selectedApartment||!this.dates.length>1?"":Fe.getTotalPriceForBooking(this.dates[0],this.dates[1],this.selectedApartment.price)},arrival:function(){return ma.formatDate(this.dates[0])},departure:function(){return ma.formatDate(this.dates[1])}},mounted:function(){if(this.$store.getters.isAvailableBookingData){var t=this.$store.getters.getBookingData;this.$store.commit("saveBookingData",{}),this.dogIncluded=t.dogIncluded,this.dates=t.dates,this.selectedApartment=t.selectedApartment,this.apartments=t.apartments,this.disabled_dates=t.disabled_dates}else this.getApartments()}},va=fa,pa=a("0789"),ga=Object(k["a"])(va,ca,da,!1,null,null,null),ha=ga.exports;x()(ga,{VBtn:y["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["c"],VCheckbox:Re["a"],VCol:j["a"],VCombobox:jt["a"],VDatePicker:Ue["a"],VDivider:V["a"],VExpandTransition:pa["a"],VProgressLinear:Ne["a"],VTextField:A["a"]});var ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-form",{ref:"userDataForm",staticClass:"col-12",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Vezetéknév",regular:"",color:"cgreen",required:"",autocomplete:"family-name"},model:{value:t.user.lastname,callback:function(e){t.$set(t.user,"lastname",e)},expression:"user.lastname"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Keresztnév",regular:"",color:"cgreen",required:"",autocomplete:"given-name"},model:{value:t.user.firstname,callback:function(e){t.$set(t.user,"firstname",e)},expression:"user.firstname"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Telefonszám",regular:"",color:"cgreen",required:"",autocomplete:"tel"},model:{value:t.user.phonenumber,callback:function(e){t.$set(t.user,"phonenumber",e)},expression:"user.phonenumber"}})],1),a("v-col",[a("v-text-field",{attrs:{value:t.user.email,label:"E-mail-cím",autocomplete:"email",regular:"",color:"cgreen",disabled:""}})],1)],1)],1)],1),a("v-card-actions",{staticClass:"col-12"},[a("v-btn",{staticClass:"white--text",attrs:{color:"clightgreen",disabled:!t.valid},on:{click:t.finishStepTwo}},[t._v(" Tovább ")]),a("v-btn",{attrs:{text:""},on:{click:t.moveBack}},[t._v(" Vissza ")])],1)],1)},ka=[],_a={name:"CBookingStepTwo",props:[],components:{},data:function(){return{valid:!1,user:{}}},methods:{getCurrentUser:function(){var t=this;g.GET("user/current").then((function(e){if(!e.data)throw"empty list";t.user=e.data})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt a felhasználó adatainak lekérésénél"})}))},finishStepTwo:function(){var t=this;g.PUT("user",this.user).then((function(e){t.$emit("next-step",t.user)})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt a felhasználó adatainak frissítésénél"})}))},moveBack:function(){this.$emit("back-step")}},computed:{},mounted:function(){this.getCurrentUser()}},xa=_a,ya=Object(k["a"])(xa,ba,ka,!1,null,null,null),Ca=ya.exports;x()(ya,{VBtn:y["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["c"],VCol:j["a"],VForm:me["a"],VRow:D["a"],VTextField:A["a"]});var wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-row",[a("v-col",{staticClass:"col-12 col-sm-6"},[a("v-alert",{attrs:{prominent:"",text:"",color:"cgreen"}},[a("div",{staticClass:"mb-0"},[t._v(" Kérjük ellenőrizd a foglalásod adatait, majd írj egy rövid üzenetet a házigazdának. ")]),a("div",[t._v(" Szükség esetén a lap alján található vissza gomb segítségével módosíthatod az előző oldalakon megadott adatokat. ")])])],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-calendar-arrow-right",value:t.booking.arrival,label:"Érkezés napja",outlined:"",color:"cgreen",dense:"",readonly:""}})],1),a("v-col",[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-calendar-arrow-left",value:t.booking.departure,label:"Távozás napja",outlined:"",color:"cgreen",dense:"",readonly:""}})],1),a("v-col",[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-paw",value:t.booking.dogIncluded?"Kutyussal jövünk":"Kutya nélkül jövünk",outlined:"",color:"cgreen",dense:"",readonly:""}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{value:t.user.lastname,label:"Vezetéknév",outlined:"",color:"cgreen",dense:"",readonly:""}})],1),a("v-col",[a("v-text-field",{attrs:{value:t.user.firstname,label:"Keresztnév",outlined:"",color:"cgreen",dense:"",readonly:""}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-phone",value:t.user.phonenumber,label:"Telefonszám",outlined:"",color:"cgreen",dense:"",readonly:""}})],1),a("v-col",[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-email",value:t.user.email,label:"E-mail-cím",outlined:"",color:"cgreen",dense:"",readonly:""}})],1)],1),a("v-divider",{staticClass:"my-5"}),a("v-row",[a("v-col",{staticClass:"col-12 col-sm-8"},[a("v-textarea",{attrs:{label:"Írj egy rövid üzenetet a házigazdának, hogy miért utazol és hány gyermek és felnőtt érkezik.",solo:""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{color:"corange",disabled:t.comment.length<10},on:{click:t.finishStepThree}},[t._v(" Foglalás elküldése ")]),a("v-btn",{attrs:{text:""},on:{click:t.moveBack}},[t._v(" Vissza ")])],1)],1)},ja=[],Va={name:"CBookingStepTwo",props:["user","booking"],components:{},data:function(){return{comment:""}},methods:{finishStepThree:function(){var t=this;this.booking["comment"]=this.comment,g.POST("booking",this.booking).then((function(e){t.$emit("next-step",e.data)})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Nem sikerült lefoglalni az apartmant. Error üzenet: "+e})})),this.$emit("next-step")},moveBack:function(){this.$emit("back-step")}},computed:{},mounted:function(){}},Ta=Va,za=a("0798"),Da=Object(k["a"])(Ta,wa,ja,!1,null,null,null),Aa=Da.exports;x()(Da,{VAlert:za["a"],VBtn:y["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["c"],VCol:j["a"],VDivider:V["a"],VRow:D["a"],VTextField:A["a"],VTextarea:Ht["a"]});var Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.booking?a("v-card",{attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"cyellow--text text-h3 zabatana",attrs:{h3:""}},[t._v("Szeretettel várjuk nyaralónkban "+t._s(t.booking.user?t.booking.user.firstname:"")+"!")]),a("v-card-text",[a("div",{staticClass:"mb-0"},[t._v("Sikeresen rögzítettük foglalását!")]),a("div",{staticClass:"mb-0"},[t._v(" Elküldtünk minden szükséges tudnivalót erre az emailcímre: "+t._s(t.booking.user?t.booking.user.email:"")+" ")]),a("div",{staticClass:"pt-3"},[t._v(" Tovább érdeklődni, esetleg a foglalást lemondani, módosítani az alábbi telefonszámon és emailcímen, illetve a weblapon is lehetséges. ")]),a("v-row",{staticClass:"pt-4"},[a("v-col",[a("v-text-field",{attrs:{label:"Telefonszám",solo:"",dense:"",readonly:"",value:"+36303699697, +36302560637","prepend-icon":"mdi-phone",color:"clightgreen"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Emailcím",solo:"",dense:"",readonly:"",value:"kameleonnyaralohaz@gmail.com","prepend-icon":"mdi-email",color:"clightgreen"}})],1)],1),a("div",[t._v(" A foglalás véglegesítéséhez "),a("span",{staticClass:"overline corange--text"},[t._v("foglalót")]),t._v(" kell fizetni. Ezt így meg így lehet megtenni, ide meg ide lehet utalni. A foglaló befizetésére egy hét áll rendelkezésre, utána a foglalást töröljük. ")]),a("div",{staticClass:"pt-3 overline font-weight-black clightgreen--text"},[t._v(" Várjuk szeretettel nyaralónkban! ")]),a("v-divider",{staticClass:"my-5"}),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-subheader",[t._v("Nyaraló címe:")])],1),a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{attrs:{readonly:"",dense:"",value:"Balatonszemes, Semmelweis utca 72/B","prepend-icon":"mdi-location",color:"cgreen"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-subheader",[t._v("Érkezés és távozás napja:")])],1),a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{attrs:{readonly:"",dense:"",value:t.getDate,"prepend-icon":"mdi-location",color:"cgreen"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-subheader",[t._v("Fizetendő összeg:")])],1),a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{attrs:{readonly:"","clear-icon":"",dense:"",value:t.getTotalPrice+" Ft","prepend-icon":"mdi-location",color:"cgreen"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{color:"cyellow",to:"/user-booking"}},[t._v(" OK! ")])],1)],1):t._e()},Ea=[],Ba={name:"CBookingStepSuccess",props:["booking"],data:function(){return{}},methods:{},computed:{getDate:function(){return ma.formatDate(this.booking.arrival)+" - "+ma.formatDate(this.booking.departure)},getTotalPrice:function(){return this.booking&&this.booking.apartment?Fe.getTotalPriceForBooking(this.booking.arrival,this.booking.departure,this.booking.apartment.price):""}},mounted:function(){}},$a=Ba,Oa=a("e0c7"),Ia=Object(k["a"])($a,Sa,Ea,!1,null,null,null),Pa=Ia.exports;x()(Ia,{VBtn:y["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VCol:j["a"],VDivider:V["a"],VRow:D["a"],VSubheader:Oa["a"],VTextField:A["a"]});var Fa={name:"CBooking",props:[],components:{BookingStepOne:ha,BookingStepTwo:Ca,BookingStepThree:Aa,BookingStepSuccess:Pa},data:function(){return{currentStep:1,booking:{},user:{},successfulBooking:!1,bookingResponse:{}}},methods:{finishStepOne:function(t){this.currentStep++,this.booking=t},finishStepTwo:function(t){this.currentStep++,this.user=t},finishStepThree:function(t){this.bookingResponse=t,this.successfulBooking=!0,this.currentStep=4}}},La=Fa,Ma=a("7e85"),Ra=a("e516"),Ua=a("9c54"),Na=a("56a4"),Ka=Object(k["a"])(La,ia,la,!1,null,null,null),qa=Ka.exports;x()(Ka,{VContainer:Vt["a"],VDivider:V["a"],VStepper:Ma["a"],VStepperContent:Ra["a"],VStepperHeader:Ua["a"],VStepperItems:Ua["b"],VStepperStep:Na["a"]});var Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{staticClass:"mt-5 ml-5"},[a("v-btn",{attrs:{"x-large":"",icon:"",color:"white",to:"/"}},[a("v-icon",{attrs:{"x-large":""}},[t._v(" mdi-arrow-left ")])],1)],1),a("v-container",{staticClass:"d-flex align-center justify-center mt-10 ptb-5"},[a("v-card",{staticClass:"col-12 col-sm-8 col-md-6 mt-5 pa-0",attrs:{persistent:""}},[a("div",[a("v-tabs",{attrs:{"show-arrows":"","background-color":"cyellow accent-4","icons-and-text":"",dark:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"cyellow darken-2"}}),t._l(t.tabs,(function(e){return a("v-tab",{key:e.name},[a("h3",{},[t._v(t._s(e.name))])])})),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:[t.rules.email,t.rules.required],label:"E-mail",autocomplete:"email"},model:{value:t.loginEmail,callback:function(e){t.loginEmail=e},expression:"loginEmail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show1?"eye":"eye-off",rules:[t.rules.required,t.rules.min8],type:t.show1?"text":"password",name:"password",autocomplete:"password",label:"Jelszó",hint:"Minimum 8 karakter hosszú",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),a("v-spacer"),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3",xsm:"12","align-end":""}},[a("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.valid,color:"success"},on:{click:t.validateLogin}},[t._v(" Login ")])],1)],1)],1)],1)],1)],1),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:[t.rules.email,t.rules.required],label:"E-mail",autocomplete:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min8],type:t.show1?"text":"password",name:"new-password",autocomplete:"new-password",label:"Jelszó",hint:"Minimum 8 karakter hosszú",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{block:"","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.passwordMatch],type:t.show1?"text":"password",name:"input-10-1",autocomplete:"verify-password",label:"Jelszó megerősítése",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}})],1),a("v-spacer"),a("v-col",{staticClass:"d-flex ml-auto",attrs:{cols:"12",sm:"3",xsm:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.valid,color:"success"},on:{click:t.validateRegister}},[t._v("Register")])],1)],1)],1)],1)],1)],1)],2)],1),a("v-overlay",{attrs:{absolute:t.absolute,value:t.loading,color:"cgreen"}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)],1),a("v-row",{staticClass:"col-12 d-flex justify-center"},[t.showAlert?a("v-alert",{staticClass:"col-12 col-sm-8 col-md-4 ma-5",attrs:{icon:"mdi-shield-lock-outline",prominent:"",text:"",type:"info",dismissible:"",color:"cgreen",transition:"scale-transition"}},[t._v(" Küldtünk egy megerősítő e-mailt a megadott e-mail-címedre. A regisztráció befejezéséhez kérlek kattints az ott található linkre. ")]):t._e()],1)],1)},Ja=[],Ha={name:"CLogin",computed:{passwordMatch:function(){var t=this;return function(){return t.password===t.verify||"A jelszavaknak egyeznie kell"}}},methods:{validateRegister:function(){var t=this;if(this.$refs.registerForm.validate()){this.loading=!0;var e={email:this.email,password:this.password};this.$store.dispatch("auth/register",e).then((function(){t.loading=!1,t.showAlert=!0,t.tab=0,t.$store.commit("showMessage",{active:!0,color:"success",message:"Sikeres regisztráció"})})).catch((function(e){t.loading=!1,t.$store.commit("showMessage",{active:!0,color:"error",message:"Sikertelen bejelentkezés"})}))}},validateLogin:function(){var t=this;if(this.$refs.loginForm.validate()){this.loading=!0;var e={email:this.loginEmail,password:this.loginPassword};this.$store.dispatch("auth/login",e).then((function(){t.loading=!1,t.$router.push("/"),t.showAlert=!1})).catch((function(e){t.loading=!1,t.$store.commit("showMessage",{active:!0,color:"error",message:"Sikertelen bejelentkezés"})}))}},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}},data:function(){return{absolute:!0,loading:!1,showAlert:!1,tab:0,tabs:[{name:"BEJELENTKEZÉS"},{name:"REGISZTRÁLÁS"}],valid:!0,email:"",password:"",verify:"",loginPassword:"",loginEmail:"",show1:!1,rules:{email:function(t){return/.+@.+\..+/.test(t)||"Érvénytelen e-mail"},required:function(t){return!!t||"Kötelező mező."},min8:function(t){return t&&t.length>=8||"Minimum 8 karakter"}}}}},Wa=Ha,Ya=a("71a3"),Za=a("c671"),Qa=a("fe57"),Xa=a("9a96"),tn=Object(k["a"])(Wa,Ga,Ja,!1,null,null,null),en=tn.exports;x()(tn,{VAlert:za["a"],VBtn:y["a"],VCard:C["a"],VCardText:w["c"],VCol:j["a"],VContainer:Vt["a"],VForm:me["a"],VIcon:z["a"],VOverlay:ta["a"],VProgressCircular:ee["a"],VRow:D["a"],VSpacer:G["a"],VTab:Ya["a"],VTabItem:Za["a"],VTabs:Qa["a"],VTabsSlider:Xa["a"],VTextField:A["a"]});var an=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex justify-center pb-10"},[a("v-data-table",{staticClass:"elevation-1 col-12",attrs:{headers:t.headers,items:t.users},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Felhasználók")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("confirm-dialog",{on:{confirm:t.deleteUser}})],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.confirmDeleteDialog(n)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)},nn=[],on={name:"CUserManagement",components:{ConfirmDialog:Yt},data:function(){return{headers:[{text:"Email",value:"email"},{text:"Vezetéknév",align:"start",value:"lastname"},{text:"Keresztnév",value:"firstname"},{text:"Telefonszám",sortable:!1,value:"phonenumber"},{text:"",value:"actions",sortable:!1}],users:[],userToDelete:{email:"",lastname:0,firstname:0,phonenumber:0}}},created:function(){this.initialize()},mounted:function(){},methods:{initialize:function(){var t=this;g.GET("user").then((function(e){t.users=e.data})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt a felhasználók adatainak lekérésénél"})}))},confirmDeleteDialog:function(t){this.userToDelete=Object.assign({},t),this.$store.commit("dialog/openSimpleDialog",{title:"Biztosan törölni szeretnéd?",confirmButton:"Törlés"})},deleteUser:function(){var t=this;g.DELETE("user/"+this.userToDelete.id).then((function(e){t.users=t.users.filter((function(t){return t.id!==this.userToDelete.id})),t.$store.commit("showMessage",{active:!0,color:"success",message:"Sikeres törlés"})})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Nem sikerült törölni a felhasználót"})}))}}},sn=on,rn=a("8fea"),ln=a("71d9"),cn=Object(k["a"])(sn,an,nn,!1,null,null,null),dn=cn.exports;x()(cn,{VBtn:y["a"],VContainer:Vt["a"],VDataTable:rn["a"],VDivider:V["a"],VIcon:z["a"],VSpacer:G["a"],VToolbar:ln["a"],VToolbarTitle:J["a"]});var un=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex justify-center pb-10"},[a("v-card",{staticClass:"col-12"},[a("v-card-title",{staticClass:"cgreen--text text-h4"},[t._v(" Aktív foglalásaid ")]),a("v-card-text",[t.active_bookings.length<1?a("div",[t._v(" Jelenleg nincs foglalásod. Foglalni "),a("span",[a("v-btn",{staticClass:"overline cgreen--text",attrs:{text:"",to:"/booking"}},[t._v("ezen a linken")])],1),t._v(" tudsz ")]):t._e(),a("user-booking-exp-panels",{attrs:{bookings:t.active_bookings,active:!0},on:{statusChanged:t.statusChanged}})],1),t.inactive_bookings.length>0?a("v-card-title",{staticClass:"cgreen--text text-h4"},[t._v(" Lejárt foglalások ")]):t._e(),a("v-card-text",[a("user-booking-exp-panels",{attrs:{bookings:t.inactive_bookings,active:!1},on:{statusChanged:t.statusChanged}})],1)],1)],1)},mn=[],fn=(a("99af"),function(){function t(){Object(l["a"])(this,t)}return Object(c["a"])(t,[{key:"bookingStatusAttrsForUser",value:function(t,e){switch(t){case"TENTATIVE":return{color:"cyellow",icon:"mdi-clock",status:"Foglalás alatt",status_admin:"Új",action_admin_icon_ok:"fa-calendar-check",action_admin_ok:"Megerősítés",action_admin_icon_cancel:"fa-ban",action_admin_cancel:"Elutasítás",info_admin:"Ez egy nemrég ("+ze()(e.transitions[e.transitions.length-1].created).locale("hu").fromNow()+") létrehozott foglalás. Erősítsd meg "+e.user.lastname+" "+e.user.firstname+" foglalását, hogy utána befizethesse a foglalót! Ha esetleg nem megfelelő az időpont, utasítsd el.",info:"Foglalásod sikeresen elmentettük, jelenleg feldoglozás alatt van. A nyaraló tulajdonosa 1-2 napon belül visszajelez, erről emailben is értesíteni fogunk!"};case"BOOKED":return{color:"corange",icon:"mdi-book",status:"Lefoglalva, foglalóra vár",status_admin:"Foglalóra vár",action_admin_icon_ok:"fa-check-double",action_admin_ok:"Foglaló kifizetve",action_admin_icon_cancel:"fa-ban",action_admin_cancel:"Elutasítás",info_admin:"A foglalást visszaigazoltad, jelenleg a vendégre várunk, hogy befizesse a foglalót. Ha "+e.user.lastname+" "+e.user.firstname+" már elutalta a foglalót, erősítsd ezt meg! Ha több mint egy hete nem fizetett foglalót utasítsd el ezt a foglalást.",info:"A nyaraló tulajdonosa elfogadta a foglalásod. A foglalás véglegesítéséhez egy héten belül foglalót kell fizetned. Ezt így meg így lehet megtenni. Kérdés esetén írj emailt, vagy hívj fel minket telefonon!"};case"PAID":return{color:"clightgreen",icon:"mdi-checkbox-marked-circle",status:"Lefoglalva, foglaló kifizetve",status_admin:"Foglaló kifizetve",info_admin:"Ezzel a foglalással jelenleg nincs teendő. A foglalást már visszaigazoltad és a foglaló is befizetésre került.",info:"A foglalás véglegesítve lett, várunk szeretettel "+ze()(e.arrival).locale("hu").fromNow()+" ("+ze()(e.arrival).locale("hu").format("LL")+") ! :)"};case"DELETED":return{color:"red",icon:"mdi-close-circle",status:"Törölve",status_admin:"Törölve",info_admin:"Törölt vagy lemondott foglalás",info:"A foglalásod törölve."};case"OUTDATED":return{color:"purple",icon:"mdi-timer-sand-empty",status:"Lejárt",status_admin:"Lejárt",info_admin:"Ez egy régebbi, már nem aktuális foglalás.",info:"Ez egy régebbi, már nem aktuális foglalásod"};default:return{color:"error",icon:"mdi-emoticon-sad",status:"Error ",status_admin:"Error",info_admin:"",info:""}}}}]),t}()),vn=new fn,pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-expansion-panels",{attrs:{multiple:""}},t._l(t.bookings,(function(e){return a("v-expansion-panel",{key:e.id,attrs:{transition:"scale-transition"}},[a("v-expansion-panel-header",[[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"1"}},[a("v-icon",{attrs:{color:t.statusAttrs(e.status,e).color}},[t._v(" "+t._s(t.statusAttrs(e.status,e)["icon"])+" ")])],1),a("v-col",{staticClass:"d-flex align-center",attrs:{cols:"4"}},[a("div",{staticClass:"overline"},[t._v(" "+t._s(t.statusAttrs(e.status,e).status)+" ")])])],1)]],2),a("v-expansion-panel-content",[a("div",{staticClass:"d-flex flex-column"},[a("booking-tabs",{attrs:{booking:e}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,s=n.attrs;return[t.active?a("v-btn",t._g(t._b({staticClass:"mt-auto align-self-end",attrs:{elevation:"2",small:"",color:"white"},on:{click:function(a){return t.openDialog(e)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{left:"",color:"red"}},[t._v(" fa-ban ")]),t._v("FOGLALÁS LEMONDÁSA ")],1):t._e()]}}],null,!0)},[a("span",{staticClass:"text-caption"},[a("p",{staticClass:"mb-0"},[t._v("Meglévő foglalást bármikor lemondhatsz,")]),t._v(" de a befizetett foglaló nem kerül visszafizetésre.")])])],1),a("confirm-dialog",{on:{confirm:function(a){return t.cancelBooking(e,arguments[0])}}})],1)],1)})),1)],1)},gn=[],hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{attrs:{vertical:"",color:"cgreen"}},[t.admin?t._e():a("v-tab",{staticClass:"d-flex justify-start caption"},[a("v-icon",{attrs:{small:"",left:""}},[t._v(" mdi-android-messages ")]),t._v(" Leírás ")],1),a("v-tab",{staticClass:"d-flex justify-start caption"},[a("v-icon",{attrs:{small:"",left:""}},[t._v(" mdi-information ")]),t._v(" Részletek ")],1),a("v-tab",{staticClass:"d-flex justify-start caption"},[a("v-icon",{attrs:{small:"",left:""}},[t._v(" mdi-history ")]),t._v(" Történet ")],1),t.admin?t._e():a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[t.admin?t._e():a("p",[t._v(" "+t._s(t.statusAttrs(t.booking.status,t.booking).info)+" ")])])],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[t.admin?a("div",{staticClass:"d-flex flex-column"},[a("v-alert",{attrs:{type:"info",text:"",color:"cgreen"}},[t._v(" "+t._s(t.statusAttrs(t.booking.status,t.booking).info_admin)+" ")])],1):t._e(),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",[t._v("Érkezés napja")]),a("td",[t._v(t._s(t.formatDate(t.booking.arrival)))])]),a("tr",[a("td",[t._v("Távozás napja")]),a("td",[t._v(t._s(t.formatDate(t.booking.departure)))])]),a("tr",[a("td",[t._v("Kutyussal jövünk")]),a("td",[t._v(t._s(t.booking.dogIncluded?"Igen":"Nem"))])]),a("tr",[a("td",[t._v("Lefoglalt apartman")]),a("td",[t._v(t._s(t.booking.apartment.name))])]),a("tr",[a("td",[t._v("Foglalás teljes ára")]),a("td",[t._v(t._s(t.getTotalPrice(t.booking))+" Ft")])])])]},proxy:!0}])})],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-timeline",{attrs:{"align-top":"",dense:""}},t._l(t.booking.transitions,(function(e,n){return a("v-timeline-item",{key:n,attrs:{small:"","fill-dot":"",color:"cgreen"}},[a("v-row",{staticClass:"pt-1"},[a("v-col",{attrs:{cols:"4"}},[a("strong",[t._v(t._s(t.formatDateTime(e.created)))]),a("p",{staticClass:"text-caption mb-2"},[t._v(" "+t._s(e.editor.email)+" ")])]),a("v-col",[a("strong",[t._v(t._s(t.statusAttrs(e.newStatus,t.booking).status))]),a("p",{staticClass:"text-caption mb-2",attrs:{readonly:""}},[t._v(" "+t._s(e.comment)+" ")])])],1)],1)})),1)],1)],1)],1)],1)],1)},bn=[],kn={name:"CBookingTabs",props:["booking","admin"],components:{},data:function(){return{}},methods:{getTotalPrice:function(t){return Fe.getTotalPriceForBooking(t.arrival,t.departure,t.apartment.price)},formatDate:function(t){return ma.formatDate(t)},formatDateTime:function(t){return ma.formatDateTime(t)},statusAttrs:function(t,e){return vn.bookingStatusAttrsForUser(t,e)}},computed:{},mounted:function(){}},_n=kn,xn=a("1f4f"),yn=a("8414"),Cn=a("1e06"),wn=Object(k["a"])(_n,hn,bn,!1,null,null,null),jn=wn.exports;x()(wn,{VAlert:za["a"],VCard:C["a"],VCardText:w["c"],VCol:j["a"],VIcon:z["a"],VRow:D["a"],VSimpleTable:xn["a"],VTab:Ya["a"],VTabItem:Za["a"],VTabs:Qa["a"],VTimeline:yn["a"],VTimelineItem:Cn["a"]});var Vn={name:"CUserBookingExpPanels",components:{BookingTabs:jn,ConfirmDialog:Yt},props:["bookings","active"],data:function(){return{}},mounted:function(){},computed:{},methods:{statusAttrs:function(t,e){return vn.bookingStatusAttrsForUser(t,e)},openDialog:function(t){this.$store.commit("dialog/openDialogWithForm",{title:"Foglalás lemondása",text:"Biztosan le szeretnéd mondani a foglalást? Amennyiben már kifizetted a foglalót az nem jár vissza.",confirmButton:"OK",form:{textfieldLabel:"Kérjük indokold meg, hogy mi miatt mondod le a foglalást!"}})},cancelBooking:function(t,e){var a=this;g.PUT("booking/cancel/"+t.id,e).then((function(t){a.$emit("statusChanged",t.data),a.$store.commit("showMessage",{active:!0,color:"success",message:"Foglalás sikeresen lemondva"})})).catch((function(t){a.$store.commit("showMessage",{active:!0,color:"error",message:"Nem sikerült lemondani a foglalást. Próbáld újra, vagy mondd le telefonon vagy emailben!"})}))}}},Tn=Vn,zn=a("cd55"),Dn=a("49e2"),An=a("c865"),Sn=a("0393"),En=a("3a2f"),Bn=Object(k["a"])(Tn,pn,gn,!1,null,null,null),$n=Bn.exports;x()(Bn,{VBtn:y["a"],VCol:j["a"],VExpansionPanel:zn["a"],VExpansionPanelContent:Dn["a"],VExpansionPanelHeader:An["a"],VExpansionPanels:Sn["a"],VIcon:z["a"],VRow:D["a"],VTooltip:En["a"]});var On={name:"CUserBooking",components:{UserBookingExpPanels:$n},data:function(){return{bookings:[]}},computed:{active_bookings:function(){return this.bookings.filter((function(t){return t.active}))},inactive_bookings:function(){return this.bookings.filter((function(t){return!t.active}))}},created:function(){this.initialize()},methods:{statusChanged:function(t){for(var e=0;e<this.bookings.length;e++)this.bookings[e].id==t.id&&this.$set(this.bookings,e,t)},initialize:function(){var t=this;g.GET("booking/user").then((function(e){t.bookings=e.data.active.concat(e.data.inactive)})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt a foglalások adatainak lekérésénél"})}))},statusAttrs:function(t,e){return vn.bookingStatusAttrsForUser(t,e)}}},In=On,Pn=Object(k["a"])(In,un,mn,!1,null,null,null),Fn=Pn.exports;x()(Pn,{VBtn:y["a"],VCard:C["a"],VCardText:w["c"],VCardTitle:w["d"],VContainer:Vt["a"]});var Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex justify-center pb-10 flex-column"},[a("div",{staticClass:"cgreen--text text-h3 py-3 pt-5"},[t._v("Összes foglalás")]),a("v-tabs",{attrs:{"background-color":"cbggreen",color:"cgreen","center-active":"","icons-and-text":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"yellow"}}),a("v-tab",[t._v(" Naptár nézet "),a("v-icon",[t._v("mdi-eye")])],1),a("v-tab",[t._v(" Lista nézet "),a("v-icon",[t._v("mdi-pencil")])],1),a("v-tab",[t._v(" Törölt foglalások "),a("v-icon",[t._v("mdi-delete")])],1)],1),a("v-card",{staticClass:"col-12"},[a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("admin-booking-calendar",{attrs:{bookings:t.active_bookings}})],1),a("v-tab-item",[t.active_bookings.length<1?a("div",[t._v(" Jelenleg nincs egy foglalás sem. ")]):a("div",[a("admin-booking-table",{key:"adminbookingactive",attrs:{bookings:t.active_bookings,active:!0},on:{statusChanged:t.statusChanged}})],1)]),a("v-tab-item",[t.inactive_bookings.length<1?a("div",[t._v(" Jelenleg nincs egy lejárt/törölt foglalás sem. ")]):a("div",[a("admin-booking-table",{key:"adminbookinginactive",attrs:{bookings:t.inactive_bookings,active:!1},on:{statusChanged:t.statusChanged}})],1)])],1)],1)],1)},Mn=[],Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1 col-12",attrs:{headers:t.headers,items:t.bookings,"single-expand":t.singleExpand,expanded:t.expanded,"item-key":"id","show-expand":"","custom-sort":t.customSort},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){},proxy:!0},{key:"item.icon",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{color:t.statusAttrs(n.status,n).color}},[t._v(" "+t._s(t.statusAttrs(n.status,n)["icon"])+" ")])]}},{key:"item.status",fn:function(e){var n=e.item;return[a("div",{staticClass:"overline"},[t._v(" "+t._s(t.statusAttrs(n.status,n).status_admin)+" ")])]}},{key:"item.guestname",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.user.lastname+" "+a.user.firstname)+" ")]}},{key:"item.lastmodified",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.transitions[a.transitions.length-1]?t.formatDateTime(a.transitions[a.transitions.length-1].created):"")+" ")]}},{key:"item.arrival",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatDate(a.arrival))+" ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return["TENTATIVE"==n.status||"BOOKED"==n.status?a("v-btn",t._g(t._b({staticClass:"mt-auto align-self-end mr-2",attrs:{fab:"","x-small":"",color:"transparent"},on:{click:function(e){return t.mouseClickAccept(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:"success"}},[t._v(" "+t._s(t.statusAttrs(n.status,n).action_admin_icon_ok)+" ")])],1):t._e()]}}],null,!0)},[a("span",{staticClass:"text-caption"},[t._v(t._s(t.statusAttrs(n.status,n).action_admin_ok))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return["TENTATIVE"==n.status||"BOOKED"==n.status?a("v-btn",t._g(t._b({staticClass:"mt-auto align-self-end mr-2",attrs:{fab:"","x-small":"",color:"transparent"},on:{click:function(e){return t.mouseClickCancel(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:"corange"}},[t._v(" "+t._s(t.statusAttrs(n.status,n).action_admin_icon_cancel)+" ")])],1):t._e()]}}],null,!0)},[a("span",{staticClass:"text-caption"},[t._v(t._s(t.statusAttrs(n.status,n).action_admin_cancel))])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Frissítés ")])]},proxy:!0},{key:"expanded-item",fn:function(e){var n=e.headers,o=e.item;return[a("td",{attrs:{colspan:n.length}},[a("div",{staticClass:"d-flex"},[a("booking-tabs",{staticClass:"py-4 col-10",attrs:{booking:o,admin:!0}}),a("div",{staticClass:"col-2"},["TENTATIVE"==o.status||"BOOKED"==o.status?a("v-btn",{staticClass:"d-flex justify-start caption",attrs:{large:"",text:""},on:{click:function(e){return t.mouseClickAccept(o)}}},[a("v-icon",{attrs:{small:"",left:"",color:"success"}},[t._v(" "+t._s(t.statusAttrs(o.status,o).action_admin_icon_ok)+" ")]),t._v(" "+t._s(t.statusAttrs(o.status,o).action_admin_ok)+" ")],1):t._e(),"TENTATIVE"==o.status||"BOOKED"==o.status?a("v-btn",{staticClass:"d-flex justify-start caption",attrs:{large:"",text:""},on:{click:function(e){return t.mouseClickCancel(o)}}},[a("v-icon",{attrs:{small:"",left:"",color:"corange"}},[t._v(" "+t._s(t.statusAttrs(o.status,o).action_admin_icon_cancel)+" ")]),t._v(" "+t._s(t.statusAttrs(o.status,o).action_admin_cancel)+" ")],1):t._e(),a("v-btn",{staticClass:"d-flex justify-start caption",attrs:{large:"",text:""},on:{click:function(e){return t.mouseClickUpdate(o)}}},[a("v-icon",{attrs:{small:"",left:"",color:"primary"}},[t._v(" fa-pencil ")]),t._v(" Állapot módosítás ")],1),a("v-btn",{staticClass:"d-flex justify-start caption",attrs:{large:"",text:""},on:{click:function(e){return t.mouseClickDelete(o)}}},[a("v-icon",{attrs:{small:"",left:"",color:"error"}},[t._v(" fa-trash ")]),t._v(" Végleges törlés ")],1)],1)],1)])]}}],null,!0)}),a("confirm-dialog",{on:{confirm:t.dialogOkEvent}})],1)},Un=[],Nn=(a("4e827"),a("fb6a"),function(){function t(){Object(l["a"])(this,t)}return Object(c["a"])(t,[{key:"sortBookings",value:function(t,e,a){var n=this;return e=e[0],a=a[0],t.sort((function(t,o){return"lastmodified"===e?n.sortByLastModified(t,o,a):"guestname"===e?n.sortByGuestName(t,o,a):a?o[e]<t[e]?-1:1:t[e]<o[e]?-1:1})),t}},{key:"sortByLastModified",value:function(t,e,a){var n=t.transitions.slice(-1)[0].created,o=e.transitions.slice(-1)[0].created,s=ma.sort(n,o,a);return s}},{key:"sortByGuestName",value:function(t,e,a){var n=t.user.lastname,o=e.user.lastname;return a?n<o?1:n>o?-1:0:n<o?-1:n>o?1:0}}]),t}()),Kn=new Nn,qn={name:"CAdminBookingTable",components:{BookingTabs:jn,ConfirmDialog:Yt},props:["bookings","active"],data:function(){return{expanded:[],singleExpand:!0,headers:[{text:"",value:"data-table-expand"},{text:"",align:"end",value:"icon",sortable:!1},{text:"Státusz",align:"start",value:"status"},{text:"Legutoljára módosítva",value:"lastmodified"},{text:"Vendég",value:"guestname"},{text:"Érkezés",value:"arrival"},{text:"",value:"actions",sortable:!1}],selectedBooking:{},payload:{comment:"",newStatus:""},actionType:""}},mounted:function(){},computed:{},methods:{customSort:function(t,e,a){return Kn.sortBookings(t,e,a)},mouseClickAccept:function(t){this.selectedBooking=t,this.actionType="accept","TENTATIVE"==t.status&&(this.payload.newStatus="BOOKED"),"BOOKED"==t.status&&(this.payload.newStatus="PAID"),this.$store.commit("dialog/openDialogWithForm",{title:this.statusAttrs(t.status,t).action_admin_ok,confirmButton:"OK",form:{textfieldLabel:"Írj rövid üzenetet, egyéb megjegyzést a vendégnek, ha szeretnél.",textfieldRequired:!1}})},mouseClickCancel:function(t){this.selectedBooking=t,this.actionType="cancel","TENTATIVE"!=t.status&&"BOOKED"!=t.status||(this.payload.newStatus="DELETED"),this.$store.commit("dialog/openDialogWithForm",{title:this.statusAttrs(t.status,t).action_admin_cancel,text:"Biztosan le szeretnéd mondani a foglalást? Amennyiben már kifizetted a foglalót az nem jár vissza.",confirmButton:"ELUTASÍTÁS",confirmButtonColor:"error",form:{textfieldLabel:"Írj indoklást a vendégnek!",textfieldRequired:!0}})},mouseClickUpdate:function(t){this.selectedBooking=t,this.actionType="update",this.$store.commit("dialog/openDialogWithForm",{title:"Foglalás státuszának módosítása",text:"Ez a funkció csak különleges esetek kezelésére szolgál. Csak akkor használd, ha megfelelő indokod van rá!",confirmButton:"MÓDOSÍTÁS",confirmButtonColor:"success",form:{textfieldLabel:"Írj magyarázatot a vendéhnek! Mi miatt módosul a foglalás státusza?",textfieldRequired:!1,dropdownLabel:"Válaszd ki a foglalás új állapotát",dropdownItems:[{name:this.statusAttrs("TENTATIVE",t).status_admin,status:"TENTATIVE"},{name:this.statusAttrs("BOOKED",t).status_admin,status:"BOOKED"},{name:this.statusAttrs("PAID",t).status_admin,status:"PAID"},{name:this.statusAttrs("DELETED",t).status_admin,status:"DELETED"},{name:this.statusAttrs("OUTDATED",t).status_admin,status:"OUTDATED"}].filter((function(e){return e.status!==t.status}))}})},mouseClickDelete:function(t){this.actionType="delete",this.selectedBooking=t,this.$store.commit("dialog/openDialog",{title:"Foglalás végleges törlése",text:"Biztosan ki szeretnéd véglegesen törölni a foglalást? Ezt a műveletet nem lehet visszavonni.",confirmButton:"TÖRLÉS",confirmButtonColor:"red"})},dialogOkEvent:function(t){var e=this;"delete"===this.actionType?this.deleteBooking():("update"===this.actionType&&(this.payload.newStatus=t.newStatus),this.payload.comment=t.comment,g.PUT("booking/"+this.selectedBooking.id,this.payload).then((function(t){e.$emit("statusChanged",t.data),e.$store.commit("showMessage",{active:!0,color:"success",message:"Foglalás státusza sikeresen módosítva"})})).catch((function(t){e.$store.commit("showMessage",{active:!0,color:"error",message:"Nem sikerült lemondani a foglalást. Próbáld újra, vagy mondd le telefonon vagy emailben!"})})))},deleteBooking:function(){var t=this;g.DELETE("booking/"+this.selectedBooking.id).then((function(e){var a=t;t.bookings=t.bookings.filter((function(t){return t.id!==a.selectedBooking.id})),t.$store.commit("showMessage",{active:!0,color:"success",message:"Foglalás sikeresen törölve"})})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Nem sikerült törölni a foglalást"})}))},formatDate:function(t){return ma.formatDate(t)},formatDateTime:function(t){return ma.formatDateTime(t)},statusAttrs:function(t,e){return vn.bookingStatusAttrsForUser(t,e)}}},Gn=qn,Jn=Object(k["a"])(Gn,Rn,Un,!1,null,null,null),Hn=Jn.exports;x()(Jn,{VBtn:y["a"],VDataTable:rn["a"],VIcon:z["a"],VTooltip:En["a"]});var Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"fill-height"},[a("v-col",[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Ma ")]),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-chevron-left ")])],1),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-chevron-right ")])],1),t.$refs.calendar?a("v-toolbar-title",[t._v(" "+t._s(t.$refs.calendar.title)+" ")]):t._e(),a("v-spacer")],1)],1),a("v-sheet",{attrs:{height:"600"}},[a("v-calendar",{ref:"calendar",attrs:{color:"primary",events:t.events,"event-color":t.getEventColor,type:"month"},on:{"click:event":t.showEvent},scopedSlots:t._u([{key:"event",fn:function(e){var n=e.event;return[a("v-icon",{staticClass:"pl-1",attrs:{small:"",color:"white"}},[t._v(" "+t._s(t.statusAttrs(n.booking.status,n.booking)["icon"])+" ")]),a("span",{staticClass:"pl-2"},[t._v(t._s(n.name))]),n.booking.dogIncluded?a("v-icon",{staticClass:"pl-1",attrs:{color:"white",small:""}},[t._v("mdi-paw")]):t._e()]}}]),model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[a("booking-details",{attrs:{event:t.selectedEvent}})],1)],1)],1)],1)],1)},Yn=[],Zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:t.event.color,dark:""}},[a("v-card-title",[t._v(" "+t._s(t.event.name))]),a("v-card-subtitle",[a("span",[t._v(t._s(t.booking.user.email))]),t._v(", "),a("span",{staticClass:"pl-2"},[t._v(t._s(t.booking.user.phonenumber))])])],1),a("v-card-text",[a("div",{staticClass:"d-flex justify-space-between mb-3"},[t.booking.dogIncluded?a("v-chip",{attrs:{color:"pink","text-color":"white"}},[a("v-icon",[t._v(" mdi-paw ")])],1):t._e(),a("v-chip",{attrs:{color:t.statusAttrs(t.booking.status,t.booking).color,"text-color":"white"}},[a("v-icon",{attrs:{left:""}},[t._v(" "+t._s(t.statusAttrs(t.booking.status,t.booking)["icon"])+" ")]),t._v(" "+t._s(t.statusAttrs(t.booking.status,t.booking).status_admin)+" ")],1),a("v-chip",{attrs:{color:t.event.color,"text-color":"white"}},[t._v(" "+t._s(t.booking.apartment.name)+" ")])],1),t.booking.transitions[0].comment?a("div",{staticClass:"d-flex flex-column mb-3"},[a("v-alert",{attrs:{text:"",color:"darkgrey"}},[a("div",{staticClass:"d-flex flex-column"},[a("p",[t._v('"'+t._s(t.booking.transitions[0].comment)+'"')]),a("div",{staticClass:"align-self-end overline"},[t._v(" - "+t._s(t.booking.user.firstname)+", "+t._s(t.formatDate(t.booking.transitions[0].created))+" ")])])])],1):t._e(),a("v-row",{staticClass:"d-flex justify-center my-3"},[a("v-chip",{attrs:{color:"cgreen","text-color":"white"}},[t._v(" "+t._s(t.formatDate(t.booking.arrival))+" - "+t._s(t.formatDate(t.booking.departure)))])],1)],1)],1)},Qn=[],Xn={name:"CBookingDetails",props:["event"],components:{},data:function(){return{}},methods:{getTotalPrice:function(t){return Fe.getTotalPriceForBooking(t.arrival,t.departure,t.apartment.price)},formatDate:function(t){return ma.formatDate(t)},formatDateTime:function(t){return ma.formatDateTime(t)},statusAttrs:function(t,e){return vn.bookingStatusAttrsForUser(t,e)}},computed:{booking:function(){return this.event.booking}},mounted:function(){}},to=Xn,eo=a("cc20"),ao=Object(k["a"])(to,Zn,Qn,!1,null,null,null),no=ao.exports;x()(ao,{VAlert:za["a"],VCard:C["a"],VCardSubtitle:w["b"],VCardText:w["c"],VCardTitle:w["d"],VChip:eo["a"],VIcon:z["a"],VRow:D["a"]});var oo={name:"CAdminBookingCalendar",components:{BookingService:Fe,BookingDetails:no},props:["bookings"],data:function(){return{focus:"",selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],apartmentColors:{}}},mounted:function(){},watch:{bookings:function(t,e){this.apartmentColors=Fe.getApartmentsWithColor(this.bookings);var a=Fe.convertBookingsToEvents(this.bookings);this.events=a}},methods:{getEventColor:function(t){return t.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(t){var e=this,a=t.nativeEvent,n=t.event,o=function(){e.selectedEvent=n,e.selectedElement=a.target,requestAnimationFrame((function(){return requestAnimationFrame((function(){return e.selectedOpen=!0}))}))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((function(){return requestAnimationFrame((function(){return o()}))}))):o(),a.stopPropagation()},rnd:function(t,e){return Math.floor((e-t+1)*Math.random())+t},statusAttrs:function(t,e){return vn.bookingStatusAttrsForUser(t,e)}}},so=oo,ro=a("a4f6"),io=a("8dd9"),lo=Object(k["a"])(so,Wn,Yn,!1,null,null,null),co=lo.exports;x()(lo,{VBtn:y["a"],VCalendar:ro["a"],VCard:C["a"],VCol:j["a"],VIcon:z["a"],VMenu:K["a"],VRow:D["a"],VSheet:io["a"],VSpacer:G["a"],VToolbar:ln["a"],VToolbarTitle:J["a"]});var uo={name:"CAdminBooking",components:{AdminBookingTable:Hn,AdminBookingCalendar:co},data:function(){return{bookings:[],tab:null}},created:function(){this.initialize()},computed:{active_bookings:function(){return this.bookings.filter((function(t){return t.active}))},inactive_bookings:function(){return this.bookings.filter((function(t){return!t.active}))}},methods:{statusChanged:function(t){for(var e=0;e<this.bookings.length;e++)this.bookings[e].id==t.id&&this.$set(this.bookings,e,t)},initialize:function(){var t=this;g.GET("booking").then((function(e){t.bookings=e.data.active.concat(e.data.inactive)})).catch((function(e){t.$store.commit("showMessage",{active:!0,color:"error",message:"Hiba történt a foglalások adatainak lekérésénél"})}))},statusAttrs:function(t,e){return vn.bookingStatusAttrsForUser(t,e)}}},mo=uo,fo=a("aac8"),vo=Object(k["a"])(mo,Ln,Mn,!1,null,null,null),po=vo.exports;x()(vo,{VCard:C["a"],VContainer:Vt["a"],VIcon:z["a"],VTab:Ya["a"],VTabItem:Za["a"],VTabs:Qa["a"],VTabsItems:fo["a"],VTabsSlider:Xa["a"]}),n["a"].use(ke["a"]);var go=[{path:"/",name:"Home",component:ra},{path:"/booking",name:"Booking",component:qa,props:{bookingData:{}}},{path:"/login",name:"Login",component:en},{path:"/user-management",name:"User Management",component:dn},{path:"/user-booking",name:"User Booking",component:Fn},{path:"/admin-booking",name:"Admin Booking",component:po}],ho=new ke["a"]({routes:go,scrollBehavior:function(t,e,a){return{x:0,y:0}}});ho.beforeEach((function(t,e,a){var n=["/user-management","/admin-booking"],o=["/booking","/user-management","/user-booking"],s=n.includes(t.path),r=o.includes(t.path),i=JSON.parse(localStorage.getItem("user")),l=!1,c=!1;i&&(l=!0,i.authorities.length>1&&(c=!0)),r&&!l||s&&!c?a("/login"):a()}));var bo=ho,ko={components:{CFooter:E,CAppBar:W,CSnackBar:ot},name:"App",data:function(){return{apartment_routes:[]}},methods:{getDynamicRoutes:function(t){var e=this;g.GET(t).then((function(t){e.processData(t,e)})).catch((function(t){return e.$store.commit("showMessage",{active:!0,color:"error",message:t})}))},processData:function(t,e){var a=t.data,n=function(t){t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase();for(var e="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",a="aaaaaeeeeeiiiiooooouuuunc------",n=0,o=e.length;n<o;n++)t=t.replace(new RegExp(e.charAt(n),"g"),a.charAt(n));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t};a.forEach((function(t){var a={path:"/".concat(n(t.name)),component:be,name:"".concat(t.id,"_index"),props:{apartment:t}};bo.addRoute(a),e.apartment_routes.push({name:t.name,url:a.path,id:t.id})}))}},created:function(){this.getDynamicRoutes("apartment",this)},mounted:function(){}},_o=ko,xo=(a("034f"),a("7496")),yo=a("f6c4"),Co=Object(k["a"])(_o,o,s,!1,null,null,null),wo=Co.exports;x()(Co,{VApp:xo["a"],VMain:yo["a"]});var jo=a("f309");n["a"].use(jo["a"]);var Vo=new jo["a"]({theme:{themes:{light:{cgreen:"206a5d",clightgreen:"81B214",cbggreen:"D4ECDD",corange:"F58634",cyellow:"FFCC29",error:"d62828"}}}}),To=a("2ead"),zo=a.n(To);n["a"].config.productionTip=!1,new n["a"]({router:bo,store:Ie,vuetify:Vo,moment:zo.a,render:function(t){return t(wo)}}).$mount("#app")},"5e36":function(t,e,a){},"5e43":function(t,e,a){},"5fa1":function(t,e,a){t.exports=a.p+"img/balatonszemes.58794f40.jpg"},"728d":function(t,e,a){"use strict";a("49b3")},"760c":function(t,e,a){"use strict";a("c3f5")},"777b":function(t,e,a){"use strict";a("1936")},"7d8a":function(t,e,a){"use strict";a("5e43")},8489:function(t,e,a){},"85ec":function(t,e,a){},a290:function(t,e,a){},ae48:function(t,e,a){t.exports=a.p+"img/cim_feher.fc220574.svg"},b564:function(t,e,a){"use strict";a("5e36")},c3f5:function(t,e,a){},d656:function(t,e,a){},dc07:function(t,e,a){"use strict";a("d656")}});
//# sourceMappingURL=app.d845da4b.js.map